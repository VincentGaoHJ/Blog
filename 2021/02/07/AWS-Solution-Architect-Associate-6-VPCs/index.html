<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>aws solution architect(associate) - vpcs | Gao Haojun</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="AWSSolutions Architect - Associate" />
  
  
  
  
  <meta name="description" content="Virtual Private Cloud (AWS Amazon) lets you provision a logically isolated section of the Amazon Web Services Cloud where you can launch AWS resources in a virtue network that you define.  You have co">
<meta property="og:type" content="article">
<meta property="og:title" content="AWS Solution Architect(Associate) - VPCs">
<meta property="og:url" content="http://vincentgaohj.github.io/Blog/2021/02/07/AWS-Solution-Architect-Associate-6-VPCs/index.html">
<meta property="og:site_name" content="Gao Haojun">
<meta property="og:description" content="Virtual Private Cloud (AWS Amazon) lets you provision a logically isolated section of the Amazon Web Services Cloud where you can launch AWS resources in a virtue network that you define.  You have co">
<meta property="og:locale">
<meta property="og:image" content="https://d2908q01vomqb2.cloudfront.net/e1822db470e60d090affd0956d743cb0e7cdf113/2020/11/05/The-following-diagram-shows-the-key-components-to-deploy-a-secure-server-endpoint-in-a-VPC-with-shared-subnets..png">
<meta property="og:image" content="https://docs.aws.amazon.com/quickstart/latest/linux-bastion/images/linux-bastion-hosts-on-aws-architecture.png">
<meta property="og:image" content="https://d1.awsstatic.com/AWS%20Direct%20Connect/Product-Page-Diagram_Direct-Connect.0166400894ac5f9c921c3f7a346f55d8c42f492c.png">
<meta property="og:image" content="https://d1.awsstatic.com/r2018/b/ubiquity/global-accelerator-after.2e404ac7f998e501219f2614bc048bb9c01f46d4.png">
<meta property="og:image" content="https://d1.awsstatic.com/r2018/b/ubiquity/global-accelerator-before.46be83fdc7c630457bba963c7dc928cb676d9046.png">
<meta property="article:published_time" content="2021-02-07T06:37:34.000Z">
<meta property="article:modified_time" content="2021-02-27T07:06:15.919Z">
<meta property="article:author" content="Haojun(Vincent) Gao">
<meta property="article:tag" content="AWS">
<meta property="article:tag" content="Solutions Architect - Associate">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://d2908q01vomqb2.cloudfront.net/e1822db470e60d090affd0956d743cb0e7cdf113/2020/11/05/The-following-diagram-shows-the-key-components-to-deploy-a-secure-server-endpoint-in-a-VPC-with-shared-subnets..png">
  
    <link rel="alternate" href="/atom.xml" title="Gao Haojun" type="application/atom+xml">
  

  

  <link rel="icon" href="/Blog/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/Blog/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt; src:url("css/fonts/FuturaPTBold.otf") format("woff");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt-light; src:url("css/fonts/FuturaPTBook.otf") format("woff");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt-italic; src:url("css/fonts/FuturaPTBookOblique.otf") format("woff");font-weight:400;font-style:italic;}
}

  </style>
  
<link rel="stylesheet" href="/Blog/css/style.css">


  
<script src="/Blog/js/jquery-3.1.1.min.js"></script>

  
<script src="/Blog/js/bootstrap.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/Blog/css/bootstrap.css" >

  

  
  

  
    
<link rel="stylesheet" href="/Blog/css/dialog.css">

  

  

  
    <link rel="stylesheet" href="/Blog/css/header-post.css" >
  

  
  
  
    <link rel="stylesheet" href="/Blog/css/vdonate.css" >
  

<meta name="generator" content="Hexo 5.2.0"></head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="/Blog/css/images/mylogo.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/Blog/">Home</a> </li>
                
                  <li> <a class="main-nav-link" href="/Blog/archives">Archives</a> </li>
                
                  <li> <a class="main-nav-link" href="/Blog/categories">Categories</a> </li>
                
                  <li> <a class="main-nav-link" href="/Blog/tags">Tags</a> </li>
                
                  <li> <a class="main-nav-link" href="/Blog/about">About</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/Blog/',
        CONTENT_URL: '/Blog/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/Blog/js/insight.js"></script>


</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-AWS-Solution-Architect-Associate-6-VPCs" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      AWS Solution Architect(Associate) - VPCs
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/Blog/2021/02/07/AWS-Solution-Architect-Associate-6-VPCs/" class="article-date">
	  <time datetime="2021-02-07T06:37:34.000Z" itemprop="datePublished">2021-02-07</time>
	</a>

      
    <a class="article-category-link" href="/Blog/categories/AWS/">AWS</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		PV:<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Virtual Private Cloud (AWS Amazon) lets you provision a logically isolated section of the Amazon Web Services Cloud where you can launch AWS resources in a virtue network that you define.</strong> </p>
<p>You have complete control over your virtual networking environment, including selection of your own IP address range, creation of subnets, and configuration of route tables and network gateways.</p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/e1822db470e60d090affd0956d743cb0e7cdf113/2020/11/05/The-following-diagram-shows-the-key-components-to-deploy-a-secure-server-endpoint-in-a-VPC-with-shared-subnets..png" alt="Key Components to Deploy a Secure Server Endpoint in a VPC with Shared Subnets"></p>
<a id="more"></a>
<h1 id="VPCs"><a href="#VPCs" class="headerlink" title="VPCs"></a>VPCs</h1><p>Virtual Private Cloud lets you provision a logically isolated section of the Amazon Web Services Cloud where you can launch AWS resources in a virtue network that you define. You have complete control over your virtual networking environment, including selection of your own IP address range, creation of subnets, and configuration of route tables and network gateways.</p>
<h2 id="VPC-Overview"><a href="#VPC-Overview" class="headerlink" title="VPC Overview"></a>VPC Overview</h2><ul>
<li><p><strong>No Translative peering</strong></p>
</li>
<li><p>When you create a VPC, a  default Route Table, Network Access Control List and a default Security Group is created</p>
</li>
<li>It won’t create any subnets, nor will it create a default Internet gateway</li>
<li>Amazon always reserve 5 IP addresses within your subnets</li>
<li>You can only have 1 Internet Gateway per VPC</li>
<li>Security Groups cant span VPCs.</li>
</ul>
<h2 id="Amazon-Virtual-Private-Cloud-features"><a href="#Amazon-Virtual-Private-Cloud-features" class="headerlink" title="Amazon Virtual Private Cloud features"></a>Amazon Virtual Private Cloud features</h2><p> Amazon Virtual Private Cloud provides features that you can use to increase and monitor the security for your virtual private cloud (VPC):</p>
<ul>
<li><p><strong>Reachability Analyzer:</strong> Reachability Analyzer is a static configuration analysis tool that enables you to analyze and debug network reachability between two resources in your VPC. </p>
</li>
<li><p><strong>VPC Flow Logs:</strong> You can monitor your VPC flow logs delivered to Amazon S3 or Amazon CloudWatch to gain operational visibility into your network dependencies and traffic patterns, detect anomalies and prevent data leakage, or troubleshoot network connectivity and configuration issues. </p>
</li>
<li><p><strong>VPC Traffic Mirroring:</strong> VPC traffic mirroring allows you to copy network traffic from an elastic network interface of Amazon EC2 instances and then send the traffic to out-of-band security and monitoring appliances for deep packet inspection. </p>
</li>
<li><p><strong>Ingress Routing:</strong> This allows you to route all incoming and outgoing traffic flowing to/from an <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html">Internet Gateway</a> (IGW) or <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/adminguide/Introduction.html">Virtual Private Gateway</a> (VGW) to a specific EC2 instance’s <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html">Elastic Network Interface</a>. With this feature, you can configure your <a target="_blank" rel="noopener" href="https://aws.amazon.com/vpc/">virtual private cloud</a> to send all traffic to an IGW, VGW or EC2 instance before the traffic reaches your business workloads.</p>
</li>
<li><p><strong>Security Groups:</strong> Security groups act as a firewall for associated Amazon EC2 instances, controlling both inbound and outbound traffic at the instance level. </p>
</li>
<li><p><strong>Network Access Control List:</strong> A network access control list (ACL) is an optional layer of security for your VPC that acts as a firewall for controlling traffic in and out of one or more subnets. </p>
</li>
</ul>
<h2 id="Security-groups-vs-Network-ACLs"><a href="#Security-groups-vs-Network-ACLs" class="headerlink" title="Security groups vs Network ACLs"></a>Security groups vs Network ACLs</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">Security group</th>
<th>Network ACL</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Operates at the instance level</td>
<td>Operates at the subnet level</td>
</tr>
<tr>
<td style="text-align:left">Supports allow rules only</td>
<td>Supports allow rules and deny rules</td>
</tr>
<tr>
<td style="text-align:left"><strong>Is stateful: Return traffic is automatically allowed, regardless of any rules</strong></td>
<td><strong>Is stateless: Return traffic must be explicitly allowed by rules</strong></td>
</tr>
<tr>
<td style="text-align:left">We evaluate all rules before deciding whether to allow traffic</td>
<td>We process rules in order, starting with the lowest numbered rule, when deciding whether to allow traffic</td>
</tr>
<tr>
<td style="text-align:left">Applies to an instance only if someone specifies the security group when launching the instance, or associates the security group with the instance later on</td>
<td>Automatically applies to all instances in the subnets that it’s associated with (therefore, it provides an additional layer of defense if the security group rules are too permissive)</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Network-Address-Translation-NAT"><a href="#Network-Address-Translation-NAT" class="headerlink" title="Network Address Translation (NAT)"></a>Network Address Translation (NAT)</h2><p><strong>NAT Instance</strong></p>
<ul>
<li>When creating a NAT instance, Disable Source/Destination Check on the Instance</li>
<li>NAT instances must be in a public subnet</li>
<li>There must be a route out of the private subnet to the NAT instance, in order for this to work</li>
<li>The amount of traffic that NAT instances can support depends on the instance size. If you are bottlenecking, increase the instance size.</li>
<li>You can create high availability using auto-scaling Groups, multiple subnets in different AZs, and a script to automate fail-over.</li>
</ul>
<p><strong>NAT Gateways</strong></p>
<p><em>If you have resources in multiple Availability Zones and they share one NAT gateway, in the event that the NAT gateway’s Availability Zone is down, resources in the other Availability Zones lose Internet access. To create an Availability Zone-independent architecture, create a NAT gateway in each Availability Zone and configure your routing to ensure that resources use the NAT gateway in the same Availability Zone.</em></p>
<ul>
<li>Redundant inside the Availability Zone</li>
<li>Preferred by the enterprise</li>
<li>Starts at 5 Gbps and scales currently to 45 Gbps</li>
<li>No need to patch</li>
<li>Not associated with security groups</li>
<li>Automatically assigned a public ip address</li>
<li>Remember to update your route tables</li>
<li>No need to disable Source/Destination Checks</li>
</ul>
<h2 id="Access-Control-Lists-ACL"><a href="#Access-Control-Lists-ACL" class="headerlink" title="Access Control Lists (ACL)"></a>Access Control Lists (ACL)</h2><ul>
<li>VPC automatically comes with a default network ACL, and by default it allows all outbound and inbound traffic</li>
<li>You can create custom network ACLs. By default, each custom network ACL denies all inbound and outbound traffic until you add rules.</li>
<li><p>Each subnet in your VPC must be associated with a network ACL. If you don’t explicitly associate a subnet with a network ACL, the subnet is automatically associated with the default network ACL</p>
</li>
<li><p>Block IP Addresses using network ACLs not Security Groups</p>
</li>
<li>You can associate a network ACL with multiple subnets; however, a subnet can be associated with only one network ACL at a time. When you associate a network ACL with a subnet, the previous association is removed.</li>
<li>Network ACLs contain a numbered list of rules that is evaluated in order, starting with the lowest numbered rule.</li>
<li>Network ACLs have separate inbound and outbound rules, and each rule can either allow or deny traffic</li>
<li>Network ACLs are stateless; responses to allowed inbound traffic are subject to the rules for outbound traffic (and vice versa.)</li>
</ul>
<h2 id="VPC-Flow-Logs"><a href="#VPC-Flow-Logs" class="headerlink" title="VPC Flow Logs"></a>VPC Flow Logs</h2><ul>
<li>You cannot enable flow logs for VPCs that are peered with your VPC unless the peer VPC is in your account.</li>
<li>You can tag flow logs</li>
<li>After you’ve created a flow log, you cannot change its configuration; for example, you can’t associate a different IAM role with the flow log</li>
</ul>
<p><strong>Not all IP traffic is monitored</strong></p>
<ul>
<li>Traffic generated by instances when they contact the Amazon DNS server. If you use your own DNS server, then all traffic to that DNS server is logged</li>
<li>Traffic generated by a Windows instance for Amazon Windows license activation</li>
<li>Traffic to and from <code>169.254.169.254</code> for instance meta-data</li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows-server/networking/technologies/dhcp/dhcp-top">DHCP (Dynamic Host Configuration Protocol)</a> traffic</li>
<li>Traffic to the reserved IP address for the default VPC router</li>
</ul>
<h2 id="Bastions"><a href="#Bastions" class="headerlink" title="Bastions"></a>Bastions</h2><p>A bastion host can be thought of as a special purpose machine, which has been configured to work against attacks. The machine contains a single application only, which it hosts. It has access to the public network, and it also known as a ‘Jump Box’. It is a powerful server, which provides high-level network security, since it is the only host that is granted permission to access the public network.</p>
<p><img src="https://docs.aws.amazon.com/quickstart/latest/linux-bastion/images/linux-bastion-hosts-on-aws-architecture.png" alt="Linux bastion host architecture on AWS"></p>
<ul>
<li><p>A NAT Gateway or NAT Instance is used to provide Internet traffic to EC2 instances in a private subnets</p>
</li>
<li><p>A Bastion is used to securely administer EC2 instances (Using SSH or RDP). Bastions are called Jump Boxes in Australia</p>
</li>
<li>You cannot use a NAT Gateway as a Bastion host</li>
</ul>
<h2 id="Direct-Connect"><a href="#Direct-Connect" class="headerlink" title="Direct Connect"></a><a target="_blank" rel="noopener" href="https://aws.amazon.com/directconnect/">Direct Connect</a></h2><h3 id="Basic-Idea"><a href="#Basic-Idea" class="headerlink" title="Basic Idea"></a>Basic Idea</h3><p>AWS Direct Connect is a cloud service solution that makes it easy to establish a dedicated network connection from your premises to AWS. Using AWS Direct Connect, you can establish private connectivity between AWS and your data-center, office, or co-location environment, which in many cases can reduce your network costs, increase bandwidth throughput, and provide a more consistent network experience than Internet-based connections.</p>
<p><img src="https://d1.awsstatic.com/AWS%20Direct%20Connect/Product-Page-Diagram_Direct-Connect.0166400894ac5f9c921c3f7a346f55d8c42f492c.png" alt="How it works"></p>
<ul>
<li>Direct Connect directly connects your data center to AWS</li>
<li>Useful for high throughput workloads (for example, lots of network traffic)</li>
<li>Or it you need a stable and reliable secure connection</li>
</ul>
<h3 id="Steps-to-Creating-a-Direct-Connect-Connection"><a href="#Steps-to-Creating-a-Direct-Connect-Connection" class="headerlink" title="Steps to Creating a Direct Connect Connection"></a>Steps to Creating a Direct Connect Connection</h3><ol>
<li>Create a virtual interface in the Direct Connect console. This is a PUBLIC Virtual Interface</li>
<li>Go to the VPC console and then to VPC connections. Create a Customer Gateway</li>
<li>Create a Virtual Private Gateway</li>
<li>Attach the Virtual Private Gateway to the desired VPC</li>
<li>Select VPN Connections and create new VPN Connection</li>
<li>Select the Virtual Private Gateway and the Customer Gateway</li>
<li>Once the VPN is available, setup the VPN on the customer gateway or firewall</li>
</ol>
<h2 id="Global-Accelerator"><a href="#Global-Accelerator" class="headerlink" title="Global Accelerator"></a><a target="_blank" rel="noopener" href="https://aws.amazon.com/global-accelerator/">Global Accelerator</a></h2><p>AWS Global Accelerator is a networking service that sends your user’s traffic through Amazon Web Service’s global network infrastructure, improving your internet user performance by up to 60%. When the internet is congested, Global Accelerator’s automatic routing optimizations will help keep your packet loss, jitter, and latency consistently low.</p>
<ul>
<li>AWS Global Accelerator is a service in which you create accelerators to improve availability and performance of your applications for local and global users.</li>
<li>You can assigned two static IP addresses (or alternatively you can bring your own)</li>
<li>You can control traffic using traffic dials. This is done within the endpoint group.</li>
</ul>
<p><img src="https://d1.awsstatic.com/r2018/b/ubiquity/global-accelerator-after.2e404ac7f998e501219f2614bc048bb9c01f46d4.png" alt="With AWS Global Accelerator"></p>
<p><strong>With AWS Global Accelerator:</strong></p>
<p><strong>Adding AWS Global Accelerator removes these inefficiencies. It leverages the Global AWS Network, resulting in improved performance.</strong> </p>
<p><img src="https://d1.awsstatic.com/r2018/b/ubiquity/global-accelerator-before.46be83fdc7c630457bba963c7dc928cb676d9046.png" alt="Without AWS Global Accelerator"></p>
<p><strong>Without AWS Global Accelerator:</strong></p>
<p><strong>It can take many networks to reach the application. Paths to and from the application may differ. Each hop impacts performance and can introduce risks.</strong> </p>
<h3 id="AWS-Global-Accelerator-Components"><a href="#AWS-Global-Accelerator-Components" class="headerlink" title="AWS Global Accelerator Components"></a>AWS Global Accelerator Components</h3><ul>
<li><strong>Static IP addresses</strong><ul>
<li>By default, Global Accelerator provides you with two static IP addresses that you associate with your accelerator.</li>
<li><code>1.2.3.4</code> / <code>5.6.7.8</code></li>
</ul>
</li>
<li><strong>Accelerator</strong><ul>
<li>An accelerator directs traffic to optimal endpoints over the AWS global network to improve the availability and performance of your Internet applications.</li>
<li>Each accelerator includes one or more listeners</li>
</ul>
</li>
<li><strong>DNS Name</strong><ul>
<li>Global Accelerator assigns each accelerator a default Domain Name System(DNS) name — that points to the static IP addresses that Global Accelerator assigns to you.</li>
<li>Depending on the use case, you can use your accelerator’s static IP addresses or DNS name to route traffic to your accelerator, or set up DNS records to route traffic using your own custom domain name.</li>
</ul>
</li>
<li><strong>Network Zone</strong><ul>
<li>A network zone services the static IP addresses for your accelerator from a unique IP subnet. Similar to an AWS Availability Zone, a network zone is an isolated unit with its own set of physical infrastructure.</li>
<li>When you configure an accelerator, by default, Global Accelerator allocates two IPv4 addresses for it. If one IP address from a network zone becomes unavailable due to IP address blocking by certain client networks, or network disruptions, client applications can retry on the healthy static IP address from the other isolated network zone.</li>
</ul>
</li>
<li><strong>Listener</strong><ul>
<li>A listener processes inbound connections from clients to Global Accelerator, based on the port (or port range) and protocol that you configure. Global Accelerator supports both TCP and UDP protocols.</li>
<li>Each listener has one or more endpoint groups associated with it, and traffic is forwarded to endpoints in one of the groups.</li>
<li>You associate endpoint groups with listeners by specifying the Regions that you want to distribute traffic to.</li>
<li>Traffic is disputed to optimal endpoints within the endpoint groups associated with a listener.</li>
</ul>
</li>
<li><strong>Endpoint Group</strong><ul>
<li>Each endpoint group is associated with a specific AWS Region</li>
<li>Endpoint groups include one or more endpoints in the Region</li>
<li>You can increase or reduce the percentage of traffic that would be otherwise directed to an endpoint group by adjusting a setting called a traffic dial</li>
<li>The traffic dial lets you easily do performance testing or blue/green deployment testing for new releases across different AWS Regions, for example.</li>
</ul>
</li>
<li><p><strong>Endpoint</strong></p>
<ul>
<li>Endpoints can be Network Load Balancers, Application Load Balancers, EC2 instances, or Elastic IP addresses</li>
<li>An Application Load Balancer endpoint can be an Internet-facing or internal. Traffic is routed to endpoints based on configuration options that you choose, such as endpoint wrights</li>
<li>For each endpoint, you can configure weights, which are numbers that you can use to specify the proportion of traffic to route to each one. This can be useful, for example, to do performance testing within a Region.</li>
</ul>
</li>
</ul>
<h2 id="VPC-End-Points"><a href="#VPC-End-Points" class="headerlink" title="VPC End Points"></a>VPC End Points</h2><p><strong>Amazon Virtual Private Cloud (Amazon VPC) is a service that lets you launch AWS resources in a logically isolated virtual network that you define.</strong> You have complete control over your virtual networking environment, including selection of your own IP address range, creation of subnets, and configuration of route tables and network gateways. You can use both IPv4 and IPv6 for most resources in your virtual private cloud, helping to ensure secure and easy access to resources and applications.</p>
<p>Endpoints are virtual devices. They are horizontally scaled. redundant, and highly available VPC components that allow communication between instances in your VPC and services without imposing availability risks or bandwidth constraints on your network traffic.</p>
<p><strong>There are two types of VPC endpoints:</strong></p>
<ul>
<li><p><strong>Interface Endpoints</strong></p>
<p>An interface endpoint is an elastic network interface with a private IP address that serves as an entry point for traffic destined to a supported service.</p>
</li>
<li><p><strong>Gateway Endpoints</strong></p>
<ul>
<li>Amazon S3</li>
<li>DynamoDB</li>
</ul>
</li>
</ul>
<h2 id="VPC-Private-Link"><a href="#VPC-Private-Link" class="headerlink" title="VPC Private Link"></a>VPC Private Link</h2><h2 id="Transit-Gateway"><a href="#Transit-Gateway" class="headerlink" title="Transit Gateway"></a>Transit Gateway</h2><h2 id="VPN-Hub"><a href="#VPN-Hub" class="headerlink" title="VPN Hub"></a>VPN Hub</h2><h2 id="Networking-Costs-on-AWS"><a href="#Networking-Costs-on-AWS" class="headerlink" title="Networking Costs on AWS"></a>Networking Costs on AWS</h2><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><p><strong>AWS Storage Blog</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/storage/using-vpc-hosted-endpoints-in-shared-vpcs-with-aws-transfer-family/">Using VPC hosted endpoints in shared VPCs with AWS Transfer Family</a></li>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/storage/managing-amazon-s3-access-with-vpc-endpoints-and-s3-access-points/">Managing Amazon S3 access with VPC endpoints and S3 Access Points</a></li>
</ul>
</li>
<li><p><strong>AWS Management &amp; Governance Blog</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/mt/improve-security-by-analyzing-vpc-flow-logs-with-amazon-cloudwatch-contributor-insights/">Improve security by analyzing VPC flow logs with Amazon CloudWatch Contributor Insights</a></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>


<script src="/Blog/js/vdonate.js"></script>

<script>
var a = new Donate({
  title: '如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作!', // 可选参数，打赏标题
  btnText: 'Donate', // 可选参数，打赏按钮文字
  el: document.getElementById('donation_div'),
  wechatImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/WeChanQR.png',
  alipayImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/AliPayQR.jpg'
});
</script>
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>Post author:  </strong>Haojun(Vincent) Gao</a>
          </li>
          <li class="post-copyright-link">
          <strong>Post link:  </strong>
          <a href="/Blog/2021/02/07/AWS-Solution-Architect-Associate-6-VPCs/" target="_blank" title="AWS Solution Architect(Associate) - VPCs">http://vincentgaohj.github.io/Blog/2021/02/07/AWS-Solution-Architect-Associate-6-VPCs/</a>
          </li>
          <li class="post-copyright-license">
            <strong>Copyright Notice:   </strong>
            All articles in this blog are licensed under <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            unless stating additionally.
          </li>
         
        </ul>
<div>

      
      
        
	<div id="comment">
		<!-- 来必力City版安装代码 -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
		</div>
		<!-- City版安装代码已完成 -->
	</div>



      
      
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/Blog/tags/AWS/" rel="tag">AWS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/Blog/tags/Solutions-Architect-Associate/" rel="tag">Solutions Architect - Associate</a></li></ul>

      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/Blog/2021/02/04/AWS-Solution-Architect-Associate-5-Route53/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">AWS Solution Architect(Associate) - Route53</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">Contents</strong>
    
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#VPCs"><span class="nav-number">1.</span> <span class="nav-text">VPCs</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#VPC-Overview"><span class="nav-number">1.1.</span> <span class="nav-text">VPC Overview</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Amazon-Virtual-Private-Cloud-features"><span class="nav-number">1.2.</span> <span class="nav-text">Amazon Virtual Private Cloud features</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Security-groups-vs-Network-ACLs"><span class="nav-number">1.3.</span> <span class="nav-text">Security groups vs Network ACLs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Network-Address-Translation-NAT"><span class="nav-number">1.4.</span> <span class="nav-text">Network Address Translation (NAT)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Access-Control-Lists-ACL"><span class="nav-number">1.5.</span> <span class="nav-text">Access Control Lists (ACL)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VPC-Flow-Logs"><span class="nav-number">1.6.</span> <span class="nav-text">VPC Flow Logs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bastions"><span class="nav-number">1.7.</span> <span class="nav-text">Bastions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Direct-Connect"><span class="nav-number">1.8.</span> <span class="nav-text">Direct Connect</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Basic-Idea"><span class="nav-number">1.8.1.</span> <span class="nav-text">Basic Idea</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Steps-to-Creating-a-Direct-Connect-Connection"><span class="nav-number">1.8.2.</span> <span class="nav-text">Steps to Creating a Direct Connect Connection</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Global-Accelerator"><span class="nav-number">1.9.</span> <span class="nav-text">Global Accelerator</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AWS-Global-Accelerator-Components"><span class="nav-number">1.9.1.</span> <span class="nav-text">AWS Global Accelerator Components</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VPC-End-Points"><span class="nav-number">1.10.</span> <span class="nav-text">VPC End Points</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VPC-Private-Link"><span class="nav-number">1.11.</span> <span class="nav-text">VPC Private Link</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Transit-Gateway"><span class="nav-number">1.12.</span> <span class="nav-text">Transit Gateway</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VPN-Hub"><span class="nav-number">1.13.</span> <span class="nav-text">VPN Hub</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Networking-Costs-on-AWS"><span class="nav-number">1.14.</span> <span class="nav-text">Networking Costs on AWS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References"><span class="nav-number">1.15.</span> <span class="nav-text">References</span></a></li></ol></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2021 Gao Haojun All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				UV : <span id="busuanzi_value_site_uv"></span> |  
				PV : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>



<!-- 2017.6.11，masikkk新增，加载本地Google Prettify 代码高亮js代码 -->

<!--
<script src="/Blog/js/prettify.js"></script>
-->

<!-- 2017.6.11，masikkk新增，用于Google Prettify 代码高亮，给pre标签添加class "prettyprint linenums"，有行号 -->
<!-- jQuery的$(window).load(function(){})是在页面所有元素(包括所有css,js,图片,Flash等)加载完毕后执行
<script type="text/javascript">
$(window).load(function(){
 $('pre').addClass('prettyprint linenums');
 $('code').addClass('prettyprint');
 prettyPrint();
 })
</script>
-->
<!-- 2017.7.1，masikkk添加，用于Google Prettify 代码高亮，给pre标签添加class "prettyprint linenums"，有行号 -->
<!-- jQuery的$(document).ready(function(){})是当页面的标准DOM元素被解析成DOM树后就执行 -->

<!--
<script type="text/javascript">
$(document).ready(function(){
 $('pre').addClass('prettyprint linenums');
 $('code').addClass('prettyprint');
 prettyPrint();
 })
</script>
-->

<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>



    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/Blog/" class="mobile-nav-link">Home</a>
  
    <a href="/Blog/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/Blog/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/Blog/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/Blog/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/Blog/fancybox/jquery.fancybox.css">

  
<script src="/Blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/Blog/js/scripts.js"></script>





  
<script src="/Blog/js/dialog.js"></script>









	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Gao Haojun
          </div>
          <div class="panel-body">
            Copyright © 2021 Haojun(Vincent) Gao All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<!--<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>