<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Build Modern Serverless Applications with AWS Amplify and AppSync - Gao Haojun</title><link rel="manifest" href="/Blog/manifest.json"><meta name="application-name" content="Gao Haojun"><meta name="msapplication-TileImage" content="/img/favicon.jpeg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Gao Haojun"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="In the fast-paced field of web applications, containerization has become not only common but the preferred mode of packaging and delivering web applications. Containers allow us to package our applica"><meta property="og:type" content="blog"><meta property="og:title" content="Build Modern Serverless Applications with AWS Amplify and AppSync"><meta property="og:url" content="http://vincentgaohj.github.io/Blog/2021/01/10/Build-Modern-Serverless-Applications-with-AWS-Amplify-and-AppSync/"><meta property="og:site_name" content="Gao Haojun"><meta property="og:description" content="In the fast-paced field of web applications, containerization has become not only common but the preferred mode of packaging and delivering web applications. Containers allow us to package our applica"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://d1.awsstatic.com/AppSync/How-It-Works-product-page-diagram_AppSync@2x.c39ecb89b7b40ba682cf0f875ae13b6bdd8dca5b.png"><meta property="og:image" content="https://docs.amplify.aws/images/AmplifyEnvSwitching.jpg"><meta property="article:published_time" content="2021-01-10T05:59:59.000Z"><meta property="article:modified_time" content="2022-02-22T04:39:29.000Z"><meta property="article:author" content="Haojun(Vincent) Gao"><meta property="article:tag" content="AWS"><meta property="article:tag" content="Serverless"><meta property="article:tag" content="Apps"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://d1.awsstatic.com/AppSync/How-It-Works-product-page-diagram_AppSync@2x.c39ecb89b7b40ba682cf0f875ae13b6bdd8dca5b.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://vincentgaohj.github.io/Blog/2021/01/10/Build-Modern-Serverless-Applications-with-AWS-Amplify-and-AppSync/"},"headline":"Build Modern Serverless Applications with AWS Amplify and AppSync","image":["https://d1.awsstatic.com/AppSync/How-It-Works-product-page-diagram_AppSync@2x.c39ecb89b7b40ba682cf0f875ae13b6bdd8dca5b.png","https://docs.amplify.aws/images/AmplifyEnvSwitching.jpg"],"datePublished":"2021-01-10T05:59:59.000Z","dateModified":"2022-02-22T04:39:29.000Z","author":{"@type":"Person","name":"Haojun(Vincent) Gao"},"publisher":{"@type":"Organization","name":"Gao Haojun","logo":{"@type":"ImageObject","url":"http://vincentgaohj.github.io/img/logo.jpg"}},"description":"In the fast-paced field of web applications, containerization has become not only common but the preferred mode of packaging and delivering web applications. Containers allow us to package our applica"}</script><link rel="canonical" href="http://vincentgaohj.github.io/Blog/2021/01/10/Build-Modern-Serverless-Applications-with-AWS-Amplify-and-AppSync/"><link rel="icon" href="/Blog/img/favicon.jpeg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/Blog/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?192470116504c325dfc73c99f66225ed";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-N6S845NT1J" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-N6S845NT1J');</script><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 6.0.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/Blog/"><img src="/Blog/img/logo.jpg" alt="Gao Haojun" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/Blog/">Home</a><a class="navbar-item" href="/Blog/archives">Archives</a><a class="navbar-item" href="/Blog/categories">Categories</a><a class="navbar-item" href="/Blog/tags">Tags</a><a class="navbar-item" href="/Blog/about">About</a><a class="navbar-item" href="/Blog/links">Links</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/VincentGaoHJ"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-10T05:59:59.000Z" title="2021/1/10 下午1:59:59">2021-01-10</time></span><span class="level-item"><a class="link-muted" href="/Blog/categories/AWS/">AWS</a><span> / </span><a class="link-muted" href="/Blog/categories/AWS/Architecture/">Architecture</a></span><span class="level-item">17 minutes read (About 2599 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Build Modern Serverless Applications with AWS Amplify and AppSync</h1><div class="content"><p>In the fast-paced field of web applications, containerization has become not only common but the preferred mode of packaging and delivering web applications. Containers allow us to package our applications and deploy them anywhere without having to reconfigure or adapt our applications to the deployment platform. </p>
<p>Amazon Elastic Container Service (Amazon ECS) is the service Amazon provide to run Docker applications on a scalable cluster.</p>
<p><img src="https://d1.awsstatic.com/AppSync/How-It-Works-product-page-diagram_AppSync@2x.c39ecb89b7b40ba682cf0f875ae13b6bdd8dca5b.png" alt=""></p>
<span id="more"></span>
<h2 id="AWS-Amplify"><a href="#AWS-Amplify" class="headerlink" title="AWS Amplify"></a><a target="_blank" rel="noopener" href="https://docs.amplify.aws/">AWS Amplify</a></h2><p>AWS Amplify is a set of products and tools that enable mobile and front-end web developers to build and deploy secure, scalable full-stack applications, powered by AWS.</p>
<h3 id="Common-Command-Line"><a href="#Common-Command-Line" class="headerlink" title="Common Command Line"></a>Common Command Line</h3><ul>
<li><code>amplify &lt;category&gt; &lt;subcommand&gt;</code><ul>
<li><code>amplify &lt;category&gt; add</code>: Add resources of a category to the cloud.<ul>
<li>Place a CloudFormation template for the resources of this category in the category’s subdirectory <code>amplify/backend/\&lt;category\&gt;</code></li>
<li>Insert its reference into the above-mentioned root stack as the nested child stack. </li>
<li>When working in teams, it is good practice to run an <code>amplify pull</code> before modifying the backend categories.</li>
</ul>
</li>
<li><code>amplify &lt;category&gt; update</code></li>
<li><code>amplify &lt;category&gt; remove</code></li>
<li><code>amplify &lt;category&gt; push</code></li>
</ul>
</li>
<li><code>amplify push</code>: Once you have made your category updates, run the command <code>amplify push</code> to update the cloud resources.</li>
<li><code>amplify pull</code>: Operates similar to a <em>git pull</em>.</li>
<li><code>amplify env &lt;subcommand&gt;</code>: Control multiple environment<ul>
<li><code>amplify env add</code></li>
<li><code>amplify env list</code></li>
<li><code>amplify env checkout</code></li>
<li><code>amplify env remove</code></li>
</ul>
</li>
<li><code>amplify console</code>:  Launches the browser directing you to your cloud project in the AWS Amplify Console. </li>
<li><code>amplify delete</code></li>
<li><code>amplify init</code>: the root stack is created with three resources:<ul>
<li>IAM role for unauthenticated users</li>
<li>IAM role for authenticated users</li>
<li>S3 bucket, the deployment bucket, to support this provider’s workflow</li>
</ul>
</li>
<li><code>amplify publish</code></li>
<li><code>amplify run</code></li>
<li><code>amplify status</code></li>
</ul>
<h3 id="Amplify-CLI"><a href="#Amplify-CLI" class="headerlink" title="Amplify CLI"></a>Amplify CLI</h3><p>The Amplify Command Line Interface (CLI) is a unified tool-chain to create, integrate, and manage the AWS cloud services for your app.</p>
<ul>
<li><strong>Authentication: </strong>The Amplify CLI supports configuring many different Authentication and Authorization workflows, including simple and advanced configurations of the login options, triggering Lambda functions during different lifecycle events, and administrative actions which you can optionally expose to your applications.</li>
<li><strong>API(GraphQL): </strong>The GraphQL Transform provides a simple to use abstraction that helps you quickly create backends for your web and mobile applications on AWS. With the GraphQL Transform, you define your application’s data model using the GraphQL Schema Definition Language (SDL) and the library handles converting your SDL definition into a set of fully descriptive AWS CloudFormation templates that implement your data model.</li>
<li><strong>Serverless Functions: </strong>You can add a Lambda function to your project which you can use alongside a REST API or as a data source in your GraphQL API using the <a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/function"><code>@function</code> directive</a>.</li>
<li><strong>Storage: </strong>Amplify CLI’s <code>storage</code> category enables you to create and manage cloud-connected file &amp; data storage. Use the <code>storage</code> category when you need to store:<ol>
<li>app content (images, audio, video etc.) in an public, protected or private storage bucket or</li>
<li>app data in a NoSQL database and access it with a REST API + Lambda</li>
</ol>
</li>
</ul>
<h3 id="Directives"><a href="#Directives" class="headerlink" title="Directives"></a>Directives</h3><p><strong>The Amplify CLI provides GraphQL <code>directives</code> to enhance your schema with additional capabilities, such as custom indexes, authorization rules, function triggers and more.</strong></p>
<p><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/model"><code>@model</code>: Defines a top level object type in your API that are backed by Amazon DynamoDB</a></p>
<ul>
<li><p>Allows you to easily define top level object types in your API that are backed by Amazon DynamoDB.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># override the names of any generated queries, mutations and subscriptions, or remove operations entirely.</span></span><br><span class="line"><span class="string">type</span> <span class="string">Post</span> <span class="string">@model(queries:</span> &#123; <span class="attr">get:</span> <span class="string">&quot;post&quot;</span> &#125;<span class="string">,</span> <span class="attr">mutations:</span> <span class="literal">null</span><span class="string">,</span> <span class="attr">subscriptions:</span> <span class="literal">null</span><span class="string">)</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span> <span class="comment"># id: ID! is a required attribute.</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">String!</span></span><br><span class="line">  <span class="attr">tags:</span> [<span class="string">String!</span>]<span class="string">!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/key"><code>@key</code>: Configures custom index structures for @model types</a></p>
<ul>
<li><p>The <code>@key</code> directive makes it simple to configure custom index structures for <code>@model</code> types.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">directive</span> <span class="string">@key(fields:</span> [<span class="string">String!</span>]<span class="type">!,</span> <span class="attr">name:</span> <span class="string">String,</span> <span class="attr">queryField:</span> <span class="string">String)</span> <span class="string">on</span> <span class="string">OBJECT</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>A <code>@key</code> without a <em>name</em> specifies the key for the DynamoDB table’s primary index. You may only provide 1 <code>@key</code> without a <em>name</em> per <code>@model</code> type.</p>
</li>
<li><p><strong>Argument</strong></p>
<ul>
<li><strong><code>fields</code></strong><ul>
<li>The first field in the list will always be the <strong>HASH</strong> key.</li>
<li>If two fields are provided the second field will be the <strong>SORT</strong> key.</li>
<li>If more than two fields are provided, a single composite <strong>SORT</strong> key will be created from a combination of <code>fields[1...n]</code>.</li>
</ul>
</li>
<li><strong><code>name</code></strong><ul>
<li>When provided, specifies the name of the secondary index.</li>
<li>When omitted, specifies that the <code>@key</code> is defining the primary index. </li>
</ul>
</li>
<li><strong><code>queryField</code></strong><ul>
<li>When defining a secondary index (by specifying the <em>name</em> argument), this specifies that a new top level query field that queries the secondary index should be generated with the given name.</li>
</ul>
</li>
</ul>
</li>
<li><p>Using the new ‘todosByStatus’ query you can fetch todos by ‘status’</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">type</span> <span class="string">Todo</span> <span class="string">@model</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;todosByStatus&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;status&quot;</span>]<span class="string">,</span> <span class="attr">queryField:</span> <span class="string">&quot;todosByStatus&quot;</span><span class="string">)</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">String!</span></span><br><span class="line">  <span class="attr">status:</span> <span class="string">String!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">query</span> <span class="string">todosByStatus</span> &#123;</span><br><span class="line">  <span class="string">todosByStatus(status:</span> <span class="string">&quot;completed&quot;</span><span class="string">)</span> &#123;</span><br><span class="line">    <span class="string">items</span> &#123;</span><br><span class="line">      <span class="string">id</span></span><br><span class="line">      <span class="string">name</span></span><br><span class="line">      <span class="string">status</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/auth"><code>@auth</code>: Defines authorization rules for your @model types and fields</a></p>
<ul>
<li><p>Authorization is required for applications to interact with your GraphQL API. <strong>API Keys</strong> are best used for public APIs (or parts of your schema which you wish to be public) or prototyping, and you must specify the expiration time before deploying.</p>
</li>
<li><p>When applied to a type, augments the application with owner and group-based authorization rules.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">directive</span> <span class="string">@auth(rules:</span> [<span class="string">AuthRule!</span>]<span class="type">!)</span> <span class="string">on</span> <span class="string">OBJECT</span> <span class="string">|</span> <span class="string">FIELD_DEFINITION</span></span><br><span class="line"><span class="string">input</span> <span class="string">AuthRule</span> &#123;</span><br><span class="line">  <span class="attr">allow:</span> <span class="string">AuthStrategy!</span></span><br><span class="line">  <span class="attr">provider:</span> <span class="string">AuthProvider</span></span><br><span class="line">  <span class="attr">ownerField:</span> <span class="string">String</span> <span class="comment"># defaults to &quot;owner&quot; when using owner auth</span></span><br><span class="line">  <span class="attr">identityClaim:</span> <span class="string">String</span> <span class="comment"># defaults to &quot;username&quot; when using owner auth</span></span><br><span class="line">  <span class="attr">groupClaim:</span> <span class="string">String</span> <span class="comment"># defaults to &quot;cognito:groups&quot; when using Group auth</span></span><br><span class="line">  <span class="attr">groups:</span> [<span class="string">String</span>]  <span class="comment"># Required when using Static Group auth</span></span><br><span class="line">  <span class="attr">groupsField:</span> <span class="string">String</span> <span class="comment"># defaults to &quot;groups&quot; when using Dynamic Group auth</span></span><br><span class="line">  <span class="attr">operations:</span> [<span class="string">ModelOperation</span>] <span class="comment"># Required for finer control</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>only the owner of the object has the authorization to perform read (<code>getTodo</code> and <code>listTodos</code>), update (<code>updateTodo</code>), and delete (<code>deleteTodo</code>) operations on the owner created object</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">type</span> <span class="string">Todo</span> <span class="string">@model</span></span><br><span class="line">  <span class="string">@auth(rules:</span> [&#123; <span class="attr">allow:</span> <span class="string">owner</span> &#125;]<span class="string">)</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">updatedAt:</span> <span class="string">AWSDateTime!</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">String!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>only the owner of the object has the authorization to perform update (<code>updateTodo</code>) and delete (<code>deleteTodo</code>) operations on the owner created object, but anyone can read them (<code>getTodo</code>, <code>listTodos</code>). </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">type</span> <span class="string">Todo</span> <span class="string">@model</span></span><br><span class="line">  <span class="string">@auth(rules:</span> [&#123; <span class="attr">allow:</span> <span class="string">owner</span>, <span class="attr">operations:</span> [<span class="string">create</span>, <span class="string">delete</span>, <span class="string">update</span>] &#125;]<span class="string">)</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">updatedAt:</span> <span class="string">AWSDateTime!</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">String!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/connection"><code>@connection</code>: Defines 1:1, 1:M, and N:M relationships between @model types</a></p>
<ul>
<li><p><strong>Has one:</strong> In the simplest case, you can define a one-to-one connection where a project has one team:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">type</span> <span class="string">Project</span> <span class="string">@model</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">String</span></span><br><span class="line">  <span class="attr">team:</span> <span class="string">Team</span> <span class="string">@connection</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">Team</span> <span class="string">@model</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">String!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Has many:</strong> The following schema defines a Post that can have many comments:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">type</span> <span class="string">Post</span> <span class="string">@model</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">String!</span></span><br><span class="line">  <span class="attr">comments:</span> [<span class="string">Comment</span>] <span class="string">@connection(keyName:</span> <span class="string">&quot;byPost&quot;</span>, <span class="attr">fields:</span> [<span class="string">&quot;id&quot;</span>]<span class="string">)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">Comment</span> <span class="string">@model</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byPost&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;postID&quot;</span>, <span class="string">&quot;content&quot;</span>]<span class="string">)</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">postID:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">String!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/function"><code>@function</code>: Configures a Lambda function resolvers for a field</a></p>
<ul>
<li><p>The <code>@function</code> directive allows you to quickly &amp; easily configure AWS Lambda resolvers within your AWS AppSync API.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">directive</span> <span class="string">@function(name:</span> <span class="string">String!,</span> <span class="attr">region:</span> <span class="string">String)</span> <span class="string">on</span> <span class="string">FIELD_DEFINITION</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can connect this function to your AppSync API deployed via Amplify using this schema:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Using this as the entry point, you can use a single function to handle many resolvers.</span></span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">Query</span> &#123;</span><br><span class="line">    <span class="attr">posts:</span> [<span class="string">Post</span>] <span class="string">@function(name:</span> <span class="string">&quot;GraphQLResolverFunction&quot;</span><span class="string">)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">type</span> <span class="string">Post</span> &#123;</span><br><span class="line">    <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">String!</span></span><br><span class="line">    <span class="attr">comments:</span> [<span class="string">Comment</span>] <span class="string">@function(name:</span> <span class="string">&quot;GraphQLResolverFunction&quot;</span><span class="string">)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">type</span> <span class="string">Comment</span> &#123;</span><br><span class="line">    <span class="attr">postId:</span> <span class="string">ID!</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/http"><code>@http</code>: Configures an HTTP resolver for a field</a></p>
<ul>
<li><p>The <code>@http</code> directive allows you to quickly configure HTTP resolvers within your AWS AppSync API.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">directive</span> <span class="string">@http(method:</span> <span class="string">HttpMethod,</span> <span class="attr">url:</span> <span class="string">String!,</span> <span class="attr">headers:</span> [<span class="string">HttpHeader</span>]<span class="string">)</span> <span class="string">on</span> <span class="string">FIELD_DEFINITION</span></span><br><span class="line"><span class="string">enum</span> <span class="string">HttpMethod</span> &#123; <span class="string">PUT</span> <span class="string">POST</span> <span class="string">GET</span> <span class="string">DELETE</span> <span class="string">PATCH</span> &#125;</span><br><span class="line"><span class="string">input</span> <span class="string">HttpHeader</span> &#123;</span><br><span class="line">  <span class="attr">key:</span> <span class="string">String</span></span><br><span class="line">  <span class="attr">value:</span> <span class="string">String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>The directive allows you to define URL path parameters, and specify a query string and/or specify a request body.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">type</span> <span class="string">Post</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">String</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">String</span></span><br><span class="line">  <span class="attr">views:</span> <span class="string">Int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">Query</span> &#123;</span><br><span class="line">  <span class="attr">listPosts:</span> <span class="string">Post</span> <span class="string">@http(url:</span> <span class="string">&quot;https://www.example.com/posts&quot;</span><span class="string">)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/predictions"><code>@predictions</code>: Queries an orchestration of AI/ML services such as Amazon Rekognition, Amazon Translate, and/or Amazon Polly</a></p>
<ul>
<li><p>The <code>@predictions</code> directive allows you to query an orchestration of AI/ML services such as Amazon Rekognition, Amazon Translate, and/or Amazon Polly.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">directive</span> <span class="string">@predictions(actions:</span> [<span class="string">PredictionsActions!</span>]<span class="type">!)</span> <span class="string">on</span> <span class="string">FIELD_DEFINITION</span></span><br><span class="line"><span class="string">enum</span> <span class="string">PredictionsActions</span> &#123;</span><br><span class="line">  <span class="string">identifyText</span> <span class="comment"># uses Amazon Rekognition to detect text</span></span><br><span class="line">  <span class="string">identifyLabels</span> <span class="comment"># uses Amazon Rekognition to detect labels</span></span><br><span class="line">  <span class="string">convertTextToSpeech</span> <span class="comment"># uses Amazon Polly in a lambda to output a presigned url to synthesized speech</span></span><br><span class="line">  <span class="string">translateText</span> <span class="comment"># uses Amazon Translate to translate text from source to target language</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/searchable"><code>@searchable</code>: Makes your data searchable by streaming it to Elasticsearch</a></p>
<ul>
<li><p>The <code>@searchable</code> directive handles streaming the data of an <code>@model</code> object type to Amazon Elasticsearch Service and configures search resolvers that search that information.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Streams data from DynamoDB to Elasticsearch and exposes search capabilities.</span></span><br><span class="line"><span class="string">directive</span> <span class="string">@searchable(queries:</span> <span class="string">SearchableQueryMap)</span> <span class="string">on</span> <span class="string">OBJECT</span></span><br><span class="line"><span class="string">input</span> <span class="string">SearchableQueryMap</span> &#123; <span class="attr">search:</span> <span class="string">String</span> &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/versioned"><code>@versioned</code>: Defines the versioning and conflict resolution strategy for an @model type</a></p>
<ul>
<li><p>The <code>@versioned</code> directive adds object versioning and conflict resolution to a type. Do not use this directive when leveraging DataStore as the conflict detection and resolution features are automatically handled inside AppSync and are incompatible with the <code>@versioned</code> directive.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">directive</span> <span class="string">@versioned(versionField:</span> <span class="string">String</span> <span class="string">=</span> <span class="string">&quot;version&quot;</span><span class="string">,</span> <span class="attr">versionInput:</span> <span class="string">String</span> <span class="string">=</span> <span class="string">&quot;expectedVersion&quot;</span><span class="string">)</span> <span class="string">on</span> <span class="string">OBJECT</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Team-Environment"><a href="#Team-Environment" class="headerlink" title="Team Environment"></a>Team Environment</h3><p>For multiple environments, Amplify matches the standard Git workflow where you switch between different branches using the <code>env checkout</code> command - similar to running <code>git checkout BRANCHNAME</code>, run <code>amplify env checkout ENVIRONMENT_NAME</code> to switch between environments. </p>
<p><img src="https://docs.amplify.aws/images/AmplifyEnvSwitching.jpg" alt="Image"></p>
<hr>
<h2 id="Modeling-Relational-Data-in-DynamoDB"><a href="#Modeling-Relational-Data-in-DynamoDB" class="headerlink" title="Modeling Relational Data in DynamoDB"></a><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/bp-modeling-nosql.html">Modeling Relational Data in DynamoDB</a></h2><h3 id="Data-access-patterns"><a href="#Data-access-patterns" class="headerlink" title="Data access patterns"></a><a target="_blank" rel="noopener" href="https://docs.amplify.aws/cli/graphql-transformer/dataaccess">Data access patterns</a></h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">type</span> <span class="string">Order</span> <span class="string">@model</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 6. Show all open orders within a given date range across all customers</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># The @key byCustomerByStatusByDate enables you to run a query that would work for this access pattern.</span></span><br><span class="line">  <span class="comment"># In this example, a composite sort key (combination of two or more keys) with the status and date is used.</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query getCustomerWithOrdersByStatusDate($customerID: ID!) &#123;</span></span><br><span class="line">  <span class="comment">#   getCustomer(id: $customerID) &#123;</span></span><br><span class="line">  <span class="comment">#     ordersByStatusDate (statusDate: &#123;</span></span><br><span class="line">  <span class="comment">#       between: [&#123; status: &quot;pending&quot;, date: &quot;2018-01-22&quot;&#125;,&#123; status: &quot;pending&quot;, date: &quot;2020-10-11&quot;&#125;]&#125;) </span></span><br><span class="line">  <span class="comment">#         &#123;items &#123;&#125;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byCustomerByStatusByDate&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;customerID&quot;</span>, <span class="string">&quot;status&quot;</span>, <span class="string">&quot;date&quot;</span>]<span class="string">)</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 5. Get orders for a given customer within a given date range</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># There is a one-to-many relation that lets all the orders of a customer be queried.</span></span><br><span class="line">  <span class="comment"># This relationship is created by having the @key name `byCustomerByDate` on the Order model </span></span><br><span class="line">  <span class="comment"># that is queried by the connection on the orders field of the Customer model.</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query getCustomerWithOrdersByDate($customerID: ID!) &#123;</span></span><br><span class="line">  <span class="comment">#   getCustomer(id: $customerID) &#123;</span></span><br><span class="line">  <span class="comment">#     ordersByDate(date: &#123;between: [ &quot;2018-01-22&quot;, &quot;2020-10-11&quot; ]&#125;) </span></span><br><span class="line">  <span class="comment">#       &#123;items &#123;&#125;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byCustomerByDate&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;customerID&quot;</span>, <span class="string">&quot;date&quot;</span>]<span class="string">)</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 12. Get orders by account representative and date</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># As can be seen in the AccountRepresentative model </span></span><br><span class="line">  <span class="comment"># this connection uses the byRepresentativebyDate field on the Order model to create the connection needed. </span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query getOrdersForAccountRepresentative($representativeId: ID!) &#123;</span></span><br><span class="line">  <span class="comment">#   getAccountRepresentative(id: $representativeId) &#123;</span></span><br><span class="line">  <span class="comment">#     id</span></span><br><span class="line">  <span class="comment">#     orders(date: &#123;between: [&quot;2010-01-22&quot;, &quot;2020-10-11&quot;]&#125;) </span></span><br><span class="line">  <span class="comment">#       &#123;items &#123;&#125;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byRepresentativebyDate&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;accountRepresentativeID&quot;</span>, <span class="string">&quot;date&quot;</span>]<span class="string">)</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 9. Get all items on order for a given product</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># This access-pattern would use a one-to-many relation from products to orders</span></span><br><span class="line">  <span class="comment"># With this query we can get all orders of a given product:</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query getProductOrders($productID: ID!) &#123;</span></span><br><span class="line">  <span class="comment">#   getProduct(id: $productID) &#123;</span></span><br><span class="line">  <span class="comment">#     id</span></span><br><span class="line">  <span class="comment">#     orders &#123;items &#123;&#125;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byProduct&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;productID&quot;</span>, <span class="string">&quot;id&quot;</span>]<span class="string">)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">customerID:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">accountRepresentativeID:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">productID:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">status:</span> <span class="string">String!</span></span><br><span class="line">  <span class="attr">amount:</span> <span class="string">Int!</span></span><br><span class="line">  <span class="attr">date:</span> <span class="string">String!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">Customer</span> <span class="string">@model</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 11. Get customers by account representative</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># This uses a one-to-many connection between account representatives and customers</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query getCustomersForAccountRepresentative($representativeId: ID!) &#123;</span></span><br><span class="line">  <span class="comment">#   getAccountRepresentative(id: $representativeId) &#123;</span></span><br><span class="line">  <span class="comment">#     customers </span></span><br><span class="line">  <span class="comment">#       &#123;items &#123;&#125;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byRepresentative&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;accountRepresentativeID&quot;</span>, <span class="string">&quot;id&quot;</span>]<span class="string">)</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">String!</span></span><br><span class="line">  <span class="attr">phoneNumber:</span> <span class="string">String</span></span><br><span class="line">  <span class="attr">accountRepresentativeID:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="comment"># 5. Get orders for a given customer within a given date range</span></span><br><span class="line">  <span class="attr">ordersByDate:</span> [<span class="string">Order</span>] <span class="string">@connection(keyName:</span> <span class="string">&quot;byCustomerByDate&quot;</span>, <span class="attr">fields:</span> [<span class="string">&quot;id&quot;</span>]<span class="string">)</span></span><br><span class="line">  <span class="comment"># 6. Show all open orders within a given date range across all customers</span></span><br><span class="line">  <span class="attr">ordersByStatusDate:</span> [<span class="string">Order</span>] <span class="string">@connection(keyName:</span> <span class="string">&quot;byCustomerByStatusByDate&quot;</span>, <span class="attr">fields:</span> [<span class="string">&quot;id&quot;</span>]<span class="string">)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">Employee</span> <span class="string">@model</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 7. See all employees hired recently</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># Query by whether an employee has been hired recently</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query employeesNewHire &#123;</span></span><br><span class="line">  <span class="comment">#   employeesNewHire(newHire: &quot;true&quot;) </span></span><br><span class="line">  <span class="comment">#     &#123;items &#123;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;newHire&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;newHire&quot;</span>, <span class="string">&quot;id&quot;</span>]<span class="string">,</span> <span class="attr">queryField:</span> <span class="string">&quot;employeesNewHire&quot;</span><span class="string">)</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># Query and have the results returned by start date</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query employeesNewHireByDate &#123;</span></span><br><span class="line">  <span class="comment">#   employeesNewHireByStartDate(newHire: &quot;true&quot;) </span></span><br><span class="line">  <span class="comment">#     &#123;items &#123;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;newHireByStartDate&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;newHire&quot;</span>, <span class="string">&quot;startDate&quot;</span>]<span class="string">,</span> <span class="attr">queryField:</span> <span class="string">&quot;employeesNewHireByStartDate&quot;</span><span class="string">)</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 2. Query employee details by employee name</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query employeeByName($name: String!) &#123;</span></span><br><span class="line">  <span class="comment">#   employeeByName(name: $name) &#123;items &#123;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byName&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;id&quot;</span>]<span class="string">,</span> <span class="attr">queryField:</span> <span class="string">&quot;employeeByName&quot;</span><span class="string">)</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 14. Get all employees with a given job title</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># Using the byTitle @key makes this access pattern quite easy</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query employeesByJobTitle &#123;</span></span><br><span class="line">  <span class="comment">#   employeesByJobTitle(jobTitle: &quot;Manager&quot;) </span></span><br><span class="line">  <span class="comment">#     &#123;items &#123;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byTitle&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;jobTitle&quot;</span>, <span class="string">&quot;id&quot;</span>]<span class="string">,</span> <span class="attr">queryField:</span> <span class="string">&quot;employeesByJobTitle&quot;</span><span class="string">)</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 8. Find all employees working in a given warehouse</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># This needs a one to many relationship from warehouses to employees</span></span><br><span class="line">  <span class="comment"># This connection uses the byWarehouse key on the Employee model. </span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query getWarehouse($warehouseID: ID!) &#123;</span></span><br><span class="line">  <span class="comment">#   getWarehouse(id: $warehouseID) &#123;</span></span><br><span class="line">  <span class="comment">#     id</span></span><br><span class="line">  <span class="comment">#     employees&#123;items &#123;&#125;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byWarehouse&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;warehouseID&quot;</span>, <span class="string">&quot;id&quot;</span>]<span class="string">)</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">String!</span></span><br><span class="line">  <span class="attr">startDate:</span> <span class="string">String!</span></span><br><span class="line">  <span class="attr">phoneNumber:</span> <span class="string">String!</span></span><br><span class="line">  <span class="attr">warehouseID:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">jobTitle:</span> <span class="string">String!</span></span><br><span class="line">  <span class="attr">newHire:</span> <span class="string">String!</span> <span class="comment"># We have to use String type, because Boolean types cannot be sort keys</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">Warehouse</span> <span class="string">@model</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="comment"># 8. Find all employees working in a given warehouse</span></span><br><span class="line">  <span class="attr">employees:</span> [<span class="string">Employee</span>] <span class="string">@connection(keyName:</span> <span class="string">&quot;byWarehouse&quot;</span>, <span class="attr">fields:</span> [<span class="string">&quot;id&quot;</span>]<span class="string">)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">AccountRepresentative</span> <span class="string">@model</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 17. Get sales representatives ranked by order total and sales period</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># The sales period is either a date range or maybe even a month or week. </span></span><br><span class="line">  <span class="comment"># Therefore we can set the sales period as a string and query using the combination of salesPeriod and orderTotal. </span></span><br><span class="line">  <span class="comment"># We can also set the sortDirection in order to get the return values from largest to smallest</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query repsByPeriodAndTotal &#123;</span></span><br><span class="line">  <span class="comment">#   repsByPeriodAndTotal(</span></span><br><span class="line">  <span class="comment">#     sortDirection: DESC,</span></span><br><span class="line">  <span class="comment">#     salesPeriod: &quot;January 2019&quot;,</span></span><br><span class="line">  <span class="comment">#     orderTotal: &#123;ge: 1000&#125;) </span></span><br><span class="line">  <span class="comment">#       &#123;items &#123;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;bySalesPeriodByOrderTotal&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;salesPeriod&quot;</span>, <span class="string">&quot;orderTotal&quot;</span>]<span class="string">,</span> <span class="attr">queryField:</span> <span class="string">&quot;repsByPeriodAndTotal&quot;</span><span class="string">)</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="comment"># 11. Get customers by account representative</span></span><br><span class="line">  <span class="attr">customers:</span> [<span class="string">Customer</span>] <span class="string">@connection(keyName:</span> <span class="string">&quot;byRepresentative&quot;</span>, <span class="attr">fields:</span> [<span class="string">&quot;id&quot;</span>]<span class="string">)</span></span><br><span class="line">  <span class="comment"># 12. Get orders by account representative and date</span></span><br><span class="line">  <span class="attr">orders:</span> [<span class="string">Order</span>] <span class="string">@connection(keyName:</span> <span class="string">&quot;byRepresentativebyDate&quot;</span>, <span class="attr">fields:</span> [<span class="string">&quot;id&quot;</span>]<span class="string">)</span></span><br><span class="line">  <span class="attr">orderTotal:</span> <span class="string">Int</span></span><br><span class="line">  <span class="attr">salesPeriod:</span> <span class="string">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">Inventory</span> <span class="string">@model</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 15. Get inventory by product by warehouse</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># We can also get all inventory from an individual warehouse </span></span><br><span class="line">  <span class="comment"># by using the itemsByWarehouseID query created by the byWarehouseID key</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query byWarehouseId($warehouseID: ID!) &#123;</span></span><br><span class="line">  <span class="comment">#   itemsByWarehouseID(warehouseID: $warehouseID) &#123;</span></span><br><span class="line">  <span class="comment">#     items &#123;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(name:</span> <span class="string">&quot;byWarehouseID&quot;</span><span class="string">,</span> <span class="attr">fields:</span> [<span class="string">&quot;warehouseID&quot;</span>]<span class="string">,</span> <span class="attr">queryField:</span> <span class="string">&quot;itemsByWarehouseID&quot;</span><span class="string">)</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 10. Get current inventories for a product at all warehouses</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># The query needed to get the inventories of a product in all warehouses</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query getProductInventoryInfo($productID: ID!) &#123;</span></span><br><span class="line">  <span class="comment">#   getProduct(id: $productID) &#123;</span></span><br><span class="line">  <span class="comment">#     id</span></span><br><span class="line">  <span class="comment">#     inventories &#123;items &#123;&#125;&#125;&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 15. Get inventory by product by warehouse</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># Here having the inventories be held in a separate model is particularly useful </span></span><br><span class="line">  <span class="comment"># since this model can have its own partition key and sort key </span></span><br><span class="line">  <span class="comment"># such that the inventories themselves can be queried as is needed for this access-pattern.</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># query inventoryByProductAndWarehouse($productID: ID!, $warehouseID: ID!) &#123;</span></span><br><span class="line">  <span class="comment">#   getInventory(productID: $productID, warehouseID: $warehouseID) &#123;</span></span><br><span class="line">  <span class="comment">#     productID</span></span><br><span class="line">  <span class="comment">#     warehouseID</span></span><br><span class="line">  <span class="comment">#     inventoryAmount&#125;&#125;</span></span><br><span class="line">  <span class="comment"># -----------------------------------------------------------</span></span><br><span class="line">  <span class="string">@key(fields:</span> [<span class="string">&quot;productID&quot;</span>, <span class="string">&quot;warehouseID&quot;</span>]<span class="string">)</span> &#123;</span><br><span class="line">  <span class="attr">productID:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">warehouseID:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">inventoryAmount:</span> <span class="string">Int!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">type</span> <span class="string">Product</span> <span class="string">@model</span> &#123;</span><br><span class="line">  <span class="attr">id:</span> <span class="string">ID!</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">String!</span></span><br><span class="line">  <span class="comment"># 9. Get all items on order for a given product</span></span><br><span class="line">  <span class="attr">orders:</span> [<span class="string">Order</span>] <span class="string">@connection(keyName:</span> <span class="string">&quot;byProduct&quot;</span>, <span class="attr">fields:</span> [<span class="string">&quot;id&quot;</span>]<span class="string">)</span></span><br><span class="line">  <span class="comment"># 10. Get current inventories for a product at all warehouses</span></span><br><span class="line">  <span class="attr">inventories:</span> [<span class="string">Inventory</span>] <span class="string">@connection(fields:</span> [<span class="string">&quot;id&quot;</span>]<span class="string">)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="AWS-Lambda-in-Python"><a href="#AWS-Lambda-in-Python" class="headerlink" title="AWS Lambda in Python"></a><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-python.html">AWS Lambda in Python</a></h2><h3 id="Lambda-deployment-packages"><a href="#Lambda-deployment-packages" class="headerlink" title="Lambda deployment packages"></a>Lambda deployment packages</h3><p>Your AWS Lambda function’s code consists of scripts or compiled programs and their dependencies. You use a <em>deployment package</em> to deploy your function code to Lambda. Lambda supports two types of deployment packages: container images and .zip files.</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-images.html">Container images</a></p>
</li>
<li><p>.zip file archives</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html">AWS Lambda layers</a>.</p>
</li>
<li><p>Using other AWS services to build a deployment package</p>
</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>Build Modern Serverless Applications with AWS Amplify and AppSync</p><p><a href="http://vincentgaohj.github.io/Blog/2021/01/10/Build-Modern-Serverless-Applications-with-AWS-Amplify-and-AppSync/">http://vincentgaohj.github.io/Blog/2021/01/10/Build-Modern-Serverless-Applications-with-AWS-Amplify-and-AppSync/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Haojun(Vincent) Gao</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2021-01-10</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2022-02-22</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-globe"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/Blog/tags/AWS/">AWS</a><a class="link-muted mr-2" rel="tag" href="/Blog/tags/Serverless/">Serverless</a><a class="link-muted mr-2" rel="tag" href="/Blog/tags/Apps/">Apps</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=62145317b846610019d3dc05&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://afdian.net/@vincent_gaohj" target="_blank" rel="noopener" data-type="afdian"><span class="icon is-small"><i class="fas fa-charging-station"></i></span><span>Afdian.net</span></a><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/Blog/img/alipay.jpg" alt="Alipay"></span></a><a class="button donate" href="https://www.buymeacoffee.com/gaohaojun" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/Blog/2021/01/17/The-Design-Principle-of-Pytorch-Architecture/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">The Design Principle of PyTorch Architecture</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/Blog/2021/01/08/AWS-Solution-Architect-Associate-4-Advanced-IAM/"><span class="level-item">AWS Solution Architect(Associate) - Topic 4: Advanced IAM</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://vincentgaohj.github.io/Blog/2021/01/10/Build-Modern-Serverless-Applications-with-AWS-Amplify-and-AppSync/';
            this.page.identifier = '2021/01/10/Build-Modern-Serverless-Applications-with-AWS-Amplify-and-AppSync/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'vincentgaohj' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/Blog/2022/06/22/What-is-Knative-K-for-Kubernetes-Native/"><img src="/Blog/gallery/What-is-Knative-K-for-Kubernetes-Native/knative.png" alt="What is Knative?  K for Kubernetes + Native"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-06-22T02:22:34.000Z">2022-06-22</time></p><p class="title"><a href="/Blog/2022/06/22/What-is-Knative-K-for-Kubernetes-Native/">What is Knative?  K for Kubernetes + Native</a></p><p class="categories"><a href="/Blog/categories/Cloud-Native/">Cloud Native</a> / <a href="/Blog/categories/Cloud-Native/Kubernetes/">Kubernetes</a> / <a href="/Blog/categories/Cloud-Native/Kubernetes/Knative/">Knative</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/Blog/2022/04/11/Deploying-AWS-Lambda-with-Terraform/"><img src="/Blog/gallery/Deploying-AWS-Lambda-with-Terraform/bailey_zindel.jpg" alt="Deploying AWS Lambda with Terraform"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-04-11T06:02:44.000Z">2022-04-11</time></p><p class="title"><a href="/Blog/2022/04/11/Deploying-AWS-Lambda-with-Terraform/">Deploying AWS Lambda with Terraform</a></p><p class="categories"><a href="/Blog/categories/Terraform/">Terraform</a> / <a href="/Blog/categories/Terraform/Serverless/">Serverless</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/Blog/2022/02/16/CICD-Deployment-with-AWS-SAM-using-Github-Action/"><img src="/Blog/gallery/CICD-Deployment-with-AWS-SAM-using-Github-Action/cover.jpg" alt="CI/CD Deployment with AWS SAM using Github Action"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-02-16T06:02:44.000Z">2022-02-16</time></p><p class="title"><a href="/Blog/2022/02/16/CICD-Deployment-with-AWS-SAM-using-Github-Action/">CI/CD Deployment with AWS SAM using Github Action</a></p><p class="categories"><a href="/Blog/categories/AWS/">AWS</a> / <a href="/Blog/categories/AWS/Serverless/">Serverless</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/Blog/2022/02/16/Overview-of-AWS-Machine-Learning-Services/"><img src="/Blog/gallery/Overview-of-AWS-Machine-Learning-Services/cover.jpg" alt="Overview of AWS: Machine Learning Services (2022 Edition)"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-02-16T06:02:44.000Z">2022-02-16</time></p><p class="title"><a href="/Blog/2022/02/16/Overview-of-AWS-Machine-Learning-Services/">Overview of AWS: Machine Learning Services (2022 Edition)</a></p><p class="categories"><a href="/Blog/categories/AWS/">AWS</a> / <a href="/Blog/categories/AWS/Overview/">Overview</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/Blog/2021/10/30/LAMBADA-Method-How-to-use-Data-Augmentation-in-NLU/"><img src="/Blog/gallery/LAMBADA-Method-How-to-use-Data-Augmentation-in-NLU/cover.png" alt="LAMBADA Method: How to use Data Augmentation in NLU?"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-10-30T14:44:24.000Z">2021-10-30</time></p><p class="title"><a href="/Blog/2021/10/30/LAMBADA-Method-How-to-use-Data-Augmentation-in-NLU/">LAMBADA Method: How to use Data Augmentation in NLU?</a></p><p class="categories"><a href="/Blog/categories/Algorithm/">Algorithm</a> / <a href="/Blog/categories/Algorithm/Deep-Learning/">Deep Learning</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/Blog/categories/AWS/"><span class="level-start"><span class="level-item">AWS</span></span><span class="level-end"><span class="level-item tag">17</span></span></a><ul><li><a class="level is-mobile" href="/Blog/categories/AWS/AWS-Certified-Machine-Learning-Specialty/"><span class="level-start"><span class="level-item">AWS Certified Machine Learning Specialty</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/AWS/AWS-Certified-Solution-Architect-Associate/"><span class="level-start"><span class="level-item">AWS Certified Solution Architect Associate</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/AWS/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/AWS/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/AWS/Serverless/"><span class="level-start"><span class="level-item">Serverless</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/Blog/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/Blog/categories/Algorithm/Deep-Learning/"><span class="level-start"><span class="level-item">Deep Learning</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Algorithm/NMF/"><span class="level-start"><span class="level-item">NMF</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Algorithm/Natural-Language-Processing/"><span class="level-start"><span class="level-item">Natural Language Processing</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Algorithm/Reinforce-Learning/"><span class="level-start"><span class="level-item">Reinforce Learning</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/Blog/categories/Big-Data/"><span class="level-start"><span class="level-item">Big Data</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/Blog/categories/Big-Data/Spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/Blog/categories/Cloud-Native/"><span class="level-start"><span class="level-item">Cloud Native</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/Blog/categories/Cloud-Native/Kubernetes/"><span class="level-start"><span class="level-item">Kubernetes</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/Blog/categories/Cloud-Native/Kubernetes/Knative/"><span class="level-start"><span class="level-item">Knative</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/Blog/categories/Development/"><span class="level-start"><span class="level-item">Development</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/Blog/categories/Development/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Development/Full-Stack/"><span class="level-start"><span class="level-item">Full Stack</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Development/Log-Stack/"><span class="level-start"><span class="level-item">Log Stack</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Development/SQL/"><span class="level-start"><span class="level-item">SQL</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/Blog/categories/English-Study/"><span class="level-start"><span class="level-item">English Study</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Finance/"><span class="level-start"><span class="level-item">Finance</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/Blog/categories/Finance/Asset-Management/"><span class="level-start"><span class="level-item">Asset Management</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Finance/Econometrics/"><span class="level-start"><span class="level-item">Econometrics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/Blog/categories/LaTeX/"><span class="level-start"><span class="level-item">LaTeX</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Lifestyle/"><span class="level-start"><span class="level-item">Lifestyle</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/Blog/categories/Terraform/"><span class="level-start"><span class="level-item">Terraform</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/Blog/categories/Terraform/Serverless/"><span class="level-start"><span class="level-item">Serverless</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/Blog/tags/AWS/"><span class="tag">AWS</span><span class="tag">19</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/AWS-Serverless/"><span class="tag">AWS - Serverless</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Android/"><span class="tag">Android</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Apps/"><span class="tag">Apps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/BERT/"><span class="tag">BERT</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/CNN/"><span class="tag">CNN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Certified/"><span class="tag">Certified</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Certified-Machine-Learning-Specialty/"><span class="tag">Certified Machine Learning - Specialty</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Cloud-Native-Kubernetes/"><span class="tag">Cloud Native - Kubernetes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Clustering/"><span class="tag">Clustering</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Coffee/"><span class="tag">Coffee</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Deep-Learning/"><span class="tag">Deep Learning</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Deep-Learning/"><span class="tag">Deep-Learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Django/"><span class="tag">Django</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Docker/"><span class="tag">Docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/EKK/"><span class="tag">EKK</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Econometrics/"><span class="tag">Econometrics</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/GPT-2/"><span class="tag">GPT-2</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/JetPack/"><span class="tag">JetPack</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Knative/"><span class="tag">Knative</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Kotlin/"><span class="tag">Kotlin</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/LaTeX/"><span class="tag">LaTeX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Log/"><span class="tag">Log</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Machine-Learning/"><span class="tag">Machine-Learning</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/MySQL/"><span class="tag">MySQL</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/NLP/"><span class="tag">NLP</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/NMF/"><span class="tag">NMF</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Overview-of-AWS/"><span class="tag">Overview of AWS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/PyTorch/"><span class="tag">PyTorch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/React/"><span class="tag">React</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Reinforce-Learning/"><span class="tag">Reinforce Learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Serverless/"><span class="tag">Serverless</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Serverless-Terraform/"><span class="tag">Serverless - Terraform</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Spark/"><span class="tag">Spark</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/TOEFL/"><span class="tag">TOEFL</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/Blog/tags/Word2Vec/"><span class="tag">Word2Vec</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/Blog/img/self.jpg" alt="Haojun(Vincent) Gao"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Haojun(Vincent) Gao</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/Blog/archives"><p class="title">46</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/Blog/categories"><p class="title">29</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/Blog/tags"><p class="title">36</p></a></div></div></nav></div></div><!--!--></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/Blog/"><img src="/Blog/img/logo.jpg" alt="Gao Haojun" height="28"></a><p class="is-size-7"><span>&copy; 2022 Haojun(Vincent) Gao</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Gallery" href="https://www.gaohaojun.com/"><i class="fab fa-fighter-jet"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Linkedin" href="https://www.instagram.com/vincent_gaohj/"><i class="fab fa-linkedin"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Instagram" href="https://www.instagram.com/vincent_gaohj/"><i class="fab fa-instagram"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="GitHub" href="https://github.com/VincentGaoHJ"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/Blog/js/column.js"></script><script src="/Blog/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/Blog/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/Blog/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/Blog/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/Blog/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>