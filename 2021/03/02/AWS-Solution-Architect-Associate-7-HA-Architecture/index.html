<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>aws solution architect(associate) - topic 7: ha architecture | Gao Haojun</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="AWSSolutions Architect - Associate" />
  
  
  
  
  <meta name="description" content="High availability protect against data center, availability zone, server, network and storage subsystem failures to keep your business running without downtime.">
<meta property="og:type" content="article">
<meta property="og:title" content="AWS Solution Architect(Associate) - Topic 7: HA Architecture">
<meta property="og:url" content="http://vincentgaohj.github.io/Blog/2021/03/02/AWS-Solution-Architect-Associate-7-HA-Architecture/index.html">
<meta property="og:site_name" content="Gao Haojun">
<meta property="og:description" content="High availability protect against data center, availability zone, server, network and storage subsystem failures to keep your business running without downtime.">
<meta property="og:locale">
<meta property="og:image" content="https://media.amazonwebservices.com/blog/2018/as_face_3.png">
<meta property="og:image" content="https://d2908q01vomqb2.cloudfront.net/1b6453892473a467d07372d45eb05abc2031647a/2021/02/04/1-ALB-Example.png">
<meta property="og:image" content="https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/images/cross_zone_load_balancing_disabled.png">
<meta property="og:image" content="https://d1.awsstatic.com/product-marketing/AutoScaling/aws-auto-scaling-how-it-works-diagram.d42779c774d634883bdcd0463de7bd86f6e2231d.png">
<meta property="og:image" content="https://d1.awsstatic.com/Products/product-name/diagrams/product-page-diagram_CloudFormation.ad3a4c93b4fdd3366da3da0de4fb084d89a5d761.png">
<meta property="og:image" content="https://d1.awsstatic.com/partner-network/QuickStart/datasheets/linux-bastion-architecture.584765ff724625db9ab0d91a8ccb1c2eb7e15a5b.png">
<meta property="article:published_time" content="2021-03-02T06:33:26.000Z">
<meta property="article:modified_time" content="2021-05-31T08:00:05.000Z">
<meta property="article:author" content="Haojun(Vincent) Gao">
<meta property="article:tag" content="AWS">
<meta property="article:tag" content="Solutions Architect - Associate">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://media.amazonwebservices.com/blog/2018/as_face_3.png">
  
    <link rel="alternate" href="/atom.xml" title="Gao Haojun" type="application/atom+xml">
  

  

  <link rel="icon" href="/Blog/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/Blog/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt; src:url("css/fonts/FuturaPTBold.otf") format("woff");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt-light; src:url("css/fonts/FuturaPTBook.otf") format("woff");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt-italic; src:url("css/fonts/FuturaPTBookOblique.otf") format("woff");font-weight:400;font-style:italic;}
}

  </style>
  
<link rel="stylesheet" href="/Blog/css/style.css">


  
<script src="/Blog/js/jquery-3.1.1.min.js"></script>

  
<script src="/Blog/js/bootstrap.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/Blog/css/bootstrap.css" >

  

  
  

  
    
<link rel="stylesheet" href="/Blog/css/dialog.css">

  

  

  
    <link rel="stylesheet" href="/Blog/css/header-post.css" >
  

  
  
  
    <link rel="stylesheet" href="/Blog/css/vdonate.css" >
  

<meta name="generator" content="Hexo 5.2.0"></head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="/Blog/css/images/mylogo.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/Blog/">Home</a> </li>
                
                  <li> <a class="main-nav-link" href="/Blog/archives">Archives</a> </li>
                
                  <li> <a class="main-nav-link" href="/Blog/categories">Categories</a> </li>
                
                  <li> <a class="main-nav-link" href="/Blog/tags">Tags</a> </li>
                
                  <li> <a class="main-nav-link" href="/Blog/about">About</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/Blog/',
        CONTENT_URL: '/Blog/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/Blog/js/insight.js"></script>


</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-AWS-Solution-Architect-Associate-7-HA-Architecture" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      AWS Solution Architect(Associate) - Topic 7: HA Architecture
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/Blog/2021/03/02/AWS-Solution-Architect-Associate-7-HA-Architecture/" class="article-date">
	  <time datetime="2021-03-02T06:33:26.000Z" itemprop="datePublished">2021-03-02</time>
	</a>

      
    <a class="article-category-link" href="/Blog/categories/AWS-Certified-Solution-Architect-Associate/">AWS Certified Solution Architect Associate</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		PV:<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>High availability protect against data center, availability zone, server, network and storage subsystem failures to keep your business running without downtime.</strong></p>
<p><img src="https://media.amazonwebservices.com/blog/2018/as_face_3.png" alt="Predictive Scaling in Action"></p>
<a id="more"></a>
<h1 id="HA-Architecture"><a href="#HA-Architecture" class="headerlink" title="HA Architecture"></a>HA Architecture</h1><h2 id="Load-Balancers"><a href="#Load-Balancers" class="headerlink" title="Load Balancers"></a><a target="_blank" rel="noopener" href="https://aws.amazon.com/elasticloadbalancing">Load Balancers</a></h2><p>Elastic Load Balancing automatically distributes incoming application traffic across multiple targets, such as Amazon EC2 instances, containers, IP addresses, Lambda functions, and virtual appliances. It can handle the varying load of your application traffic in a single Availability Zone or across multiple Availability Zones.</p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/1b6453892473a467d07372d45eb05abc2031647a/2021/02/04/1-ALB-Example.png" alt="HTTP APIs to ALB example"></p>
<p><strong>Load Balancer Types</strong></p>
<ul>
<li><strong>Application Load Balancer</strong><ul>
<li>Application Load Balancer is best suited for load balancing of HTTP and HTTPS traffic and provides advanced request routing targeted at the delivery of modern application architectures, including microservices and containers. </li>
<li>Application Load Balancer routes traffic to targets within Amazon VPC <strong>based on the content of the request</strong>.</li>
</ul>
</li>
<li><strong>Network Load Balancer</strong><ul>
<li>Network Load Balancer is best suited for load balancing of Transmission Control Protocol (TCP), User Datagram Protocol (UDP), and Transport Layer Security (TLS) traffic <strong>where extreme performance is required</strong>. </li>
<li>Network Load Balancer routes traffic to targets within Amazon VPC and is capable of handling millions of requests per second while maintaining ultra-low latencies.</li>
</ul>
</li>
<li><strong>Gateway Load Balancer</strong><ul>
<li>Gateway Load Balancer makes it easy to deploy, scale, and run third-party virtual networking appliances. Providing load balancing and auto scaling for fleets of third-party appliances, Gateway Load Balancer is transparent to the source and destination of traffic. </li>
<li>This capability makes it well suited for working with third-party appliances for security, network analytics, and other use cases.</li>
</ul>
</li>
<li><strong>Classic Load Balancer</strong><ul>
<li>Classic Load Balancer provides basic load balancing across multiple Amazon EC2 instances and operates at both the request level and the connection level. Classic Load Balancer is intended for applications that were built within the EC2-Classic network.</li>
</ul>
</li>
</ul>
<p><strong>Detail need to notice</strong></p>
<ul>
<li>504 Error means the gateway has timed out. This means that the application not responding within the idle timeout period.</li>
<li>Trouble shoot the application. Is it the Web Server Layer or Database Server Layer?</li>
<li>If you need the IPv4 addresses of your end user, look for the <strong>X-Forwarded-For</strong> header.</li>
<li>Instance monitored by ELB are reported as InService, or OutofService</li>
<li>Health Checks check the instance health by talking to it</li>
<li>Load Balances (Application load balancer and classic load balancer) have their own DNS name. You are never given an IP address.<ul>
<li>You can get a static IP address for network load balancer.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="Advanced-Load-Balancer-Theory"><a href="#Advanced-Load-Balancer-Theory" class="headerlink" title="Advanced Load Balancer Theory"></a>Advanced Load Balancer Theory</h2><h3 id="Sticky-Sessions"><a href="#Sticky-Sessions" class="headerlink" title="Sticky Sessions"></a><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/sticky-sessions.html">Sticky Sessions</a></h3><p><strong><em>This feature is useful for servers that maintain state information in order to provide a continuous experience to clients. To use sticky sessions, the client must support cookies.</em></strong></p>
<ul>
<li><p>Classic Load Balancer routes each request independently to the registered EC2 instance with the smallest load.</p>
</li>
<li><p>Sticky sessions allow you to bind a user’s session to a specific EC2 instance. This ensures that all requests from the user during the session are sent to the same instance.</p>
</li>
<li>You can enable Sticky Sessions for Application Load Balancers as well, but the traffic will be sent at the Target Group Level.</li>
</ul>
<h3 id="Cross-Zone-Load-Balancing"><a href="#Cross-Zone-Load-Balancing" class="headerlink" title="Cross Zone Load Balancing"></a><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/enable-disable-crosszone-lb.html">Cross Zone Load Balancing</a></h3><p><strong><em>Cross Zone Load Balancing enables you to load balance across multiple availability zones</em></strong></p>
<p>With <em>cross-zone load balancing</em>, each load balancer node for your Classic Load Balancer distributes requests evenly across the registered instances in all enabled Availability Zones. If cross-zone load balancing is disabled, each load balancer node distributes requests evenly across the registered instances in its Availability Zone only. </p>
<p><img src="https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/images/cross_zone_load_balancing_disabled.png" alt="each load balancer node can route its 50% of the client traffic only to targets in its Availability Zone"></p>
<p>For more information, see <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/how-elastic-load-balancing-works.html#cross-zone-load-balancing">Cross-zone load balancing</a> in the <em>Elastic Load Balancing User Guide</em>.</p>
<h3 id="Path-Patterns"><a href="#Path-Patterns" class="headerlink" title="Path Patterns"></a><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-listeners.html">Path Patterns</a></h3><p><strong><em>Path patterns allows you to direct traffic to different EC2 instances based on the URL contained in the request</em></strong></p>
<ul>
<li>You can create a listener with rules to forward requests based on the URL path.</li>
<li>This is known as path-based routing.</li>
<li>If you are running micro-services, you can route traffic to multiple back-end services using path-based routing.</li>
<li>For example, you can route general requests to one target group and requests to render images to another target group.</li>
</ul>
<hr>
<h2 id="Auto-Scaling"><a href="#Auto-Scaling" class="headerlink" title="Auto Scaling"></a><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/autoscaling/plans/userguide/what-is-aws-auto-scaling.html">Auto Scaling</a></h2><p><strong><em>AWS Auto Scaling monitors your applications and automatically adjusts capacity to maintain steady, predictable performance at the lowest possible cost.</em></strong> </p>
<p><img src="https://d1.awsstatic.com/product-marketing/AutoScaling/aws-auto-scaling-how-it-works-diagram.d42779c774d634883bdcd0463de7bd86f6e2231d.png" alt="How it works"></p>
<h3 id="Three-Components"><a href="#Three-Components" class="headerlink" title="Three Components"></a>Three Components</h3><ul>
<li><strong>Groups</strong><ul>
<li>Logical Component</li>
<li>Web-server group or Application group or Database group etc.</li>
</ul>
</li>
<li><strong>Configuration Templates</strong><ul>
<li>Groups uses a launch template or a launch configuration as a configuration template for its EC2 instance. </li>
<li>You can specify information such as the AMI ID, instance type, key pair, security groups, and block device mapping for your instances.</li>
</ul>
</li>
<li><strong>Scaling Options</strong><ul>
<li>Scaling Options provides several ways for you to scale your Auto Scaling Groups. </li>
<li>For example, you can configure a group to scale based on the occurrence of specified conditions (dynamic scaling) or on a schedule.</li>
</ul>
</li>
</ul>
<h3 id="Five-Options"><a href="#Five-Options" class="headerlink" title="Five Options"></a>Five Options</h3><ul>
<li><strong>Maintain current instance levels at all times</strong><ul>
<li>Maintain a specified number of running instances at all times</li>
</ul>
</li>
<li><strong>Scale manually</strong><ul>
<li>Specify only the change in the maximum, minimum, or desired capacity of your Auto Scaling Group</li>
</ul>
</li>
<li><strong>Scale based on a schedule</strong><ul>
<li>Perform automatically as a function of time and date</li>
</ul>
</li>
<li><strong>Scale based on demand</strong><ul>
<li>Using scaling policies - lets you define parameters that control the scaling process.</li>
<li>You can stabilize the CPU utilization of the Auto Scaling Group to stay at around 50 percent when the load on the application changes.</li>
</ul>
</li>
<li><strong><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/aws/new-predictive-scaling-for-ec2-powered-by-machine-learning/">Use predictive scaling</a></strong><ul>
<li>You can also use Amazon EC2 Auto Scaling in combination with AWS Auto Scaling to scale resources across multiple services.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="HA-Architecture-1"><a href="#HA-Architecture-1" class="headerlink" title="HA Architecture"></a>HA Architecture</h2><p><strong><em>Everything fails. Everything. You should always plan for failure.</em></strong></p>
<ul>
<li>Always Design for failure</li>
<li>Use Multiple AZ’s and Multiple Regions where ever you can</li>
<li>Know the difference between Multi-AZ and Read Replicas for RDS.<ul>
<li>Multi-AZ is for disasters</li>
<li>Read Replicas for performance</li>
</ul>
</li>
<li>Know the difference between scaling out and scaling up<ul>
<li>Scaling Out is using auto scaling groups to add additional instance</li>
<li>Scaling Up is where we increase the resources inside out EC2 instance, like from t-2 micro to 6-x extra large</li>
</ul>
</li>
<li><strong>Read the question carefully and always consider the cost element</strong> </li>
<li>Know the different S3 storage classes</li>
</ul>
<hr>
<h2 id="Cloud-Formation"><a href="#Cloud-Formation" class="headerlink" title="Cloud Formation"></a>Cloud Formation</h2><p><img src="https://d1.awsstatic.com/Products/product-name/diagrams/product-page-diagram_CloudFormation.ad3a4c93b4fdd3366da3da0de4fb084d89a5d761.png" alt="How it works"></p>
<p><strong><em>AWS CloudFormation gives you an easy way to model a collection of related AWS and third-party resources, provision them quickly and consistently, and manage them throughout their lifecycles, by treating infrastructure as code.</em></strong></p>
<ul>
<li>CloudFormation is a way of completely scripting your cloud environment.</li>
<li>Quick Start is a bunch of Cloud Formation templates already built by AWS Solutions Architects allowing you to create complex environments very quickly.</li>
</ul>
<h3 id="Build-serverless-applications-with-SAM"><a href="#Build-serverless-applications-with-SAM" class="headerlink" title="Build serverless applications with SAM"></a>Build serverless applications with SAM</h3><p>Build serverless applications faster with the <a target="_blank" rel="noopener" href="https://aws.amazon.com/serverless/sam/">AWS Serverless Application Model (SAM)</a>, an open-source framework that provides shorthand syntax to express functions, APIs, databases, and event source mappings. With just a few lines per resource, you can define the application you want and model it using YAML. During deployment, SAM transforms and expands the SAM syntax into CloudFormation syntax. </p>
<hr>
<h2 id="Elastic-Beanstalk"><a href="#Elastic-Beanstalk" class="headerlink" title="Elastic Beanstalk"></a><a target="_blank" rel="noopener" href="https://aws.amazon.com/elasticbeanstalk/">Elastic Beanstalk</a></h2><p>AWS Elastic Beanstalk is an easy-to-use service <strong><em>for deploying and scaling web applications</em></strong> and service.</p>
<p>With Elastic Beanstalk, you can quickly deploy and manage applications in the AWS Cloud without worrying about the infrastructure that runs those applications. You simply upload your application, and Elastic Beanstalk automatically handles the details of capacity provisioning, load balancing, scaling, and application health monitoring.</p>
<ul>
<li><strong>Scaling:</strong> AWS Elastic Beanstalk leverages Elastic Load Balancing and Auto Scaling to <strong><em>automatically scale your application in and out</em></strong> based on your application’s specific needs. In addition, multiple availability zones give you an option to improve application reliability and availability by running in more than one zone.</li>
<li><strong>Customization:</strong> With AWS Elastic Beanstalk, you <strong><em>have the freedom to select the AWS resources</em></strong>, such as Amazon EC2 instance type including Spot instances, that are optimal for your application. Additionally, Elastic Beanstalk lets you “open the hood” and retain full control over the AWS resources powering your application. If you decide you want to take over some (or all) of the elements of your infrastructure, you can do so seamlessly by using Elastic Beanstalk’s management capabilities.</li>
</ul>
<h3 id="CloudFormation-vs-Beanstalk"><a href="#CloudFormation-vs-Beanstalk" class="headerlink" title="CloudFormation vs Beanstalk"></a>CloudFormation vs Beanstalk</h3><p>Elastic Beanstalk really is aimed at developers who just want to get their stuff into the AWS Cloud quickly. They don’t want to have to go and learn something like CloudFormation which is a way more powerful tool than Elastic Beanstalk.</p>
<hr>
<h2 id="Highly-Available-Bastion"><a href="#Highly-Available-Bastion" class="headerlink" title="Highly Available Bastion"></a><a target="_blank" rel="noopener" href="https://aws.amazon.com/quickstart/architecture/linux-bastion/">Highly Available Bastion</a></h2><p><strong><em>The bastion hosts provide secure access to Linux instances located in the private and public subnets of your virtual private cloud (VPC).</em></strong></p>
<p><img src="https://d1.awsstatic.com/partner-network/QuickStart/datasheets/linux-bastion-architecture.584765ff724625db9ab0d91a8ccb1c2eb7e15a5b.png" alt="What will you build"></p>
<p><strong>High Availability with Bastion Hosts</strong></p>
<ul>
<li>Two hosts in two separate Availability Zones. Use a Network Load Balancer with static IP addresses and health checks to fail over from one host to the other.</li>
<li>Can’t use an Application Load Balancer, as it is layer 7 and you need to use layer 4.</li>
<li>One host in one Availability Zone behind an Auto Scaling group with health checks and a fixed EIP (Elastic IP). If the host fails, the health check will fail and the Auto Scaling group will provision a new EC2 instance in a separate Availability Zone. You can use a user data script to provision the same EIP to the new host. <em>This is the cheapest option, but it is not 100% fault tolerant.</em></li>
</ul>
<hr>
<h2 id="On-Promise-Services-with-AWS"><a href="#On-Promise-Services-with-AWS" class="headerlink" title="On-Promise Services with AWS"></a>On-Promise Services with AWS</h2><p><strong>You need to be aware of what high-level AWS services you can use on-promises for the exam:</strong></p>
<ul>
<li><em>Database Migration Service (DMS)</em></li>
<li><em>Server Migration Service (SMS)</em></li>
<li><em>AWS Application Discovery Service</em></li>
<li><em>VM Import/Export</em></li>
<li><em>Download Amazon Linux 2 as an ISO</em></li>
</ul>
<p><strong>Database Migration Service (DMS)</strong></p>
<ul>
<li>Allows you to move databases to and from AWS</li>
<li>Might have your DR environment in AWS and your on-promises environment as your primary.</li>
<li>Works with most popular database technologies, such as Oracle, MySQL, DynamoDB, etc.<ul>
<li>Supports <strong>homogeneous (Oracle -&gt; Oracle)</strong> migrations and <strong>heterogeneous (SQL -&gt; Aurora)</strong> migrations.</li>
</ul>
</li>
</ul>
<p><strong>Server Migration Service (SMS)</strong></p>
<ul>
<li>Supports Server Migration Service supports incremental replication of your on-promises servers in to AWS.</li>
<li>Can be used as a backup tool, multi-site strategy (on-premises and off-premises), and a DR tool.</li>
</ul>
<p><strong>AWS Application Discovery Service</strong></p>
<ul>
<li>Helps enterprise customers plan migration projects by gathering information about their on-premises data centers.</li>
<li>You can install the AWS Application Discovery Agent-less Connector as a virtual appliance on VMware vCenter.</li>
<li>It will then build a server utilization map and dependency map of your on-premises environment.</li>
<li>The collected data is retained in encrypted format in an AWS Application Discovery Service data store. You can export this data as a CSV filer and use it to estimate the Total Cost of Ownership (TCO) of running on AWS and to plan your migration to AWS.</li>
<li>This data is also available in AWS Migration Hub, where you can migrate the discovered servers and track their progress as they get migrated to AWS. </li>
</ul>
<p><strong>VM Import/Export</strong></p>
<ul>
<li>Migrate existing applications in to EC2</li>
<li>Can be used to create a DR strategy on AWS as a second site.</li>
<li>You can also use it to export your AWS VMs to your on-premises data center.</li>
</ul>
<p><strong>Download Amazon Linux 2 as an ISO</strong></p>
<ul>
<li>Works with all major virtualization providers, such as VMware. Hyper-V, KVM, VirtualBox (Oracle), etc.</li>
</ul>
<hr>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li><strong>AWS Architecture Blog</strong><ul>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/architecture/architecting-for-reliable-scalability/">Architecting for Reliable Scalability</a></li>
</ul>
</li>
<li><strong>AWS Compute Blog</strong><ul>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/compute/configuring-private-integrations-with-amazon-api-gateway-http-apis/">Configuring private integrations with Amazon API Gateway HTTP APIs</a></li>
</ul>
</li>
<li><p><strong>Networking &amp; Content Delivery</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/networking-and-content-delivery/introducing-aws-gateway-load-balancer-supported-architecture-patterns/">Introducing AWS Gateway Load Balancer: Supported architecture patterns</a></li>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/networking-and-content-delivery/scaling-network-traffic-inspection-using-aws-gateway-load-balancer/">Scaling network traffic inspection using AWS Gateway Load Balancer</a></li>
</ul>
</li>
<li><p><strong>AWS News Blog</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/aws/aws-auto-scaling-unified-scaling-for-your-cloud-applications/">New AWS Auto Scaling – Unified Scaling For Your Cloud Applications</a></li>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/aws/new-predictive-scaling-for-ec2-powered-by-machine-learning/">New – Predictive Scaling for EC2, Powered by Machine Learning</a></li>
</ul>
</li>
</ul>
<hr>
<h1 id="Dive-Into-Exam"><a href="#Dive-Into-Exam" class="headerlink" title="Dive Into Exam"></a>Dive Into Exam</h1><p><strong>1) You have a website with three distinct services, each hosted by different web server autoscaling groups. Which AWS service should you use?</strong></p>
<ul>
<li><strong>Answer:</strong> Application Load Balancers (ALB)</li>
<li><strong>Explanation:</strong> The ALB has functionality to distinguish traffic for different targets (mysite.co/accounts vs. mysite.co/sales vs. mysite.co/support) and distribute traffic based on rules for target group, condition, and priority.</li>
</ul>
<p><strong>2) You have been tasked with creating a resilient website for your company. You create the Classic Load Balancer with a standard health check, a Route 53 alias pointing at the ELB, and a launch configuration based on a reliable Linux AMI. You have also checked all the security groups, NACLs, routes, gateways and NATs. You run the first test and cannot reach your web servers via the ELB or directly. What might be wrong?</strong></p>
<ul>
<li><strong>Answer:</strong> The launch configuration is not being triggered correctly.</li>
<li><strong>Explanation:</strong> In a question like this you need to evaluate if all the necessary services are in place. <em>The glaring omission is that you have not built an autoscaling group to invoke the launch configuration you specified.</em> The instance count and health check depend on instances being created by the autoscaling group. Finally, key pairs have no relevance to services running on the instance.</li>
</ul>
<p><strong>3) You work for a major news network in Europe. They have just released a new mobile app that allows users to post their photos of newsworthy events in real-time. Your organization expects this app to grow very quickly, essentially doubling its user base each month. The app uses S3 to store the images, and you are expecting sudden and sizable increases in traffic to S3 when a major news event takes place (as users will be uploading large amounts of content.) You need to keep your storage costs to a minimum, and you are happy to temporally lose access to up to 0.1% of uploads per year. With these factors in mind, which storage media should you use to keep costs as low as possible?</strong></p>
<ul>
<li><strong>Answer:</strong> S3 Standard-IA</li>
<li><strong>Explanation:</strong> The key drivers here are availability and cost, so an awareness of cost is necessary to answer this. Full S3 is quite expensive at around $0.023 per GB for the lowest band. S3 standard IA is $0.0125 per GB, S3 One Zone-IA is $0.01 per GB, and Legacy S3-RRS is around $0.024 per GB for the lowest band. Of the offered solutions S3 One Zone-IA is the cheapest suitable option. Glacier cannot be considered as it is not intended for direct access, however it comes in at around $0.004 per GB. S3 has an availability of 99.99%, S3-IA has an availability of 99.9% while S3-1 Zone-IA only has 99.5%.</li>
</ul>
<p><strong>4) <a target="_blank" rel="noopener" href="https://acloud.guru/forums/aws-certified-solutions-architect-associate/discussion/-KPQfzQF4eWf0C6XxCe-/question-5">When you have deployed an RDS database into multiple availability zones, can you use the secondary database as an independent read node?</a></strong></p>
<ul>
<li><strong>Answer:</strong> No.</li>
<li><strong>Explanation:</strong> The secondary database is to be thought of as a DR site, it will be active only when the primary fails, as per the documentation. You need read replicas to increase your read speed. <a target="_blank" rel="noopener" href="https://aws.amazon.com/rds/details/multi-az/">https://aws.amazon.com/rds/details/multi-az/</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>


<script src="/Blog/js/vdonate.js"></script>

<script>
var a = new Donate({
  title: '如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作!', // 可选参数，打赏标题
  btnText: 'Donate', // 可选参数，打赏按钮文字
  el: document.getElementById('donation_div'),
  wechatImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/WeChanQR.png',
  alipayImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/AliPayQR.jpg'
});
</script>
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>Post author:  </strong>Haojun(Vincent) Gao</a>
          </li>
          <li class="post-copyright-link">
          <strong>Post link:  </strong>
          <a href="/Blog/2021/03/02/AWS-Solution-Architect-Associate-7-HA-Architecture/" target="_blank" title="AWS Solution Architect(Associate) - Topic 7: HA Architecture">http://vincentgaohj.github.io/Blog/2021/03/02/AWS-Solution-Architect-Associate-7-HA-Architecture/</a>
          </li>
          <li class="post-copyright-license">
            <strong>Copyright Notice:   </strong>
            All articles in this blog are licensed under <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            unless stating additionally.
          </li>
         
        </ul>
<div>

      
      
        
	<div id="comment">
		<!-- 来必力City版安装代码 -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
		</div>
		<!-- City版安装代码已完成 -->
	</div>



      
      
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/Blog/tags/AWS/" rel="tag">AWS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/Blog/tags/Solutions-Architect-Associate/" rel="tag">Solutions Architect - Associate</a></li></ul>

      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/Blog/2021/03/28/AWS-Solution-Architect-Associate-8-Applications/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          AWS Solution Architect(Associate) - Topic 8: Applications
        
      </div>
    </a>
  
  
    <a href="/Blog/2021/02/07/AWS-Solution-Architect-Associate-6-VPCs/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">AWS Solution Architect(Associate) - Topic 6: VPCs</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">Contents</strong>
    
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#HA-Architecture"><span class="nav-number">1.</span> <span class="nav-text">HA Architecture</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Load-Balancers"><span class="nav-number">1.1.</span> <span class="nav-text">Load Balancers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Advanced-Load-Balancer-Theory"><span class="nav-number">1.2.</span> <span class="nav-text">Advanced Load Balancer Theory</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Sticky-Sessions"><span class="nav-number">1.2.1.</span> <span class="nav-text">Sticky Sessions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cross-Zone-Load-Balancing"><span class="nav-number">1.2.2.</span> <span class="nav-text">Cross Zone Load Balancing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Path-Patterns"><span class="nav-number">1.2.3.</span> <span class="nav-text">Path Patterns</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Auto-Scaling"><span class="nav-number">1.3.</span> <span class="nav-text">Auto Scaling</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Three-Components"><span class="nav-number">1.3.1.</span> <span class="nav-text">Three Components</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Five-Options"><span class="nav-number">1.3.2.</span> <span class="nav-text">Five Options</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HA-Architecture-1"><span class="nav-number">1.4.</span> <span class="nav-text">HA Architecture</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cloud-Formation"><span class="nav-number">1.5.</span> <span class="nav-text">Cloud Formation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Build-serverless-applications-with-SAM"><span class="nav-number">1.5.1.</span> <span class="nav-text">Build serverless applications with SAM</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Elastic-Beanstalk"><span class="nav-number">1.6.</span> <span class="nav-text">Elastic Beanstalk</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CloudFormation-vs-Beanstalk"><span class="nav-number">1.6.1.</span> <span class="nav-text">CloudFormation vs Beanstalk</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Highly-Available-Bastion"><span class="nav-number">1.7.</span> <span class="nav-text">Highly Available Bastion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#On-Promise-Services-with-AWS"><span class="nav-number">1.8.</span> <span class="nav-text">On-Promise Services with AWS</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#References"><span class="nav-number">2.</span> <span class="nav-text">References</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dive-Into-Exam"><span class="nav-number">3.</span> <span class="nav-text">Dive Into Exam</span></a></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2022 Gao Haojun All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				UV : <span id="busuanzi_value_site_uv"></span> |  
				PV : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>



<!-- 2017.6.11，masikkk新增，加载本地Google Prettify 代码高亮js代码 -->

<!--
<script src="/Blog/js/prettify.js"></script>
-->

<!-- 2017.6.11，masikkk新增，用于Google Prettify 代码高亮，给pre标签添加class "prettyprint linenums"，有行号 -->
<!-- jQuery的$(window).load(function(){})是在页面所有元素(包括所有css,js,图片,Flash等)加载完毕后执行
<script type="text/javascript">
$(window).load(function(){
 $('pre').addClass('prettyprint linenums');
 $('code').addClass('prettyprint');
 prettyPrint();
 })
</script>
-->
<!-- 2017.7.1，masikkk添加，用于Google Prettify 代码高亮，给pre标签添加class "prettyprint linenums"，有行号 -->
<!-- jQuery的$(document).ready(function(){})是当页面的标准DOM元素被解析成DOM树后就执行 -->

<!--
<script type="text/javascript">
$(document).ready(function(){
 $('pre').addClass('prettyprint linenums');
 $('code').addClass('prettyprint');
 prettyPrint();
 })
</script>
-->

<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>



    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/Blog/" class="mobile-nav-link">Home</a>
  
    <a href="/Blog/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/Blog/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/Blog/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/Blog/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/Blog/fancybox/jquery.fancybox.css">

  
<script src="/Blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/Blog/js/scripts.js"></script>





  
<script src="/Blog/js/dialog.js"></script>









	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Gao Haojun
          </div>
          <div class="panel-body">
            Copyright © 2022 Haojun(Vincent) Gao All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<!--<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>